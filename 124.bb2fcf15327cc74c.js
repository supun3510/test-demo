(self.webpackChunkhybrix=self.webpackChunkhybrix||[]).push([[124],{4124:(pe,F,I)=>{"use strict";I.r(F),I.d(F,{AuthModule:()=>de});var D=I(6895),ee=I(7434),N=I(5861),R=I(4006),ne=I(2179),m=I(4650),U=I(1391),p=I(3527),T=I(5058),q=I(7185);const L=function(Q){return{"is-invalid":Q}},Y=function(Q,Fe){return{"mdi-eye-off-outline":Q,"mdi-eye-outline":Fe}};let k=(()=>{class Q{constructor(E,_,y,O,H,z,P){this.formBuilder=E,this.authenticationService=_,this.router=y,this.authFackservice=O,this.route=H,this.cognitoService=z,this.toastr=P,this.submitted=!1,this.error="",this.year=(new Date).getFullYear()}ngOnInit(){localStorage.getItem("currentUser"),this.loginForm=this.formBuilder.group({email:["",[R.kI.required,R.kI.email]],password:["",[R.kI.required]]})}get f(){return this.loginForm.controls}onSubmit(){var E=this;return(0,N.Z)(function*(){if(E.submitted=!0,E.loginForm.valid){const _=E.loginForm.value;try{const y=yield ne.g.signIn({username:_.email,password:_.password});console.log("Login data:",y),E.toastr.success("Login successful!"),E.router.navigate(["/user-dashboard"])}catch(y){"UserNotFoundException"===y.code||"NotAuthorizedException"===y.code?(console.error("Invalid username or password"),E.toastr.error("Invalid username or password.")):(console.error("Login error:",y),E.toastr.error("Login error:",y))}}})()}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}}return Q.\u0275fac=function(E){return new(E||Q)(m.Y36(R.QS),m.Y36(U.$),m.Y36(ee.F0),m.Y36(p.g),m.Y36(ee.gz),m.Y36(T.A),m.Y36(q._W))},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-login"]],decls:47,vars:12,consts:[[1,"container-fluid","vh-100","p-0"],[1,"row","g-0","h-100"],[1,"col-lg-7"],[1,"position-relative","card","auth-card","bg-primary","h-100","border-0","shadow-none","overflow-hidden","mb-0","rounded-0","p-0"],["src","assets/images/login-bg.jpg","alt","Login Page",1,"position-absolute","top-0","left-0","w-100","h-100","object-fit-cover","opacity-25","d-none","d-md-block"],[1,"position-absolute","top-0","left-0","w-100","h-100","card-body","p-4","d-flex","justify-content-between","flex-column","zindex-sticky"],[1,"auth-image"],["src","assets/images/logo/logo.png","alt","","height","190",1,"rounded"],[1,"text-white","text-center","fw-semibold"],[1,"col-lg-5","d-flex","align-items-center","justify-content-center"],[1,"card","mb-0","border-0","shadow-none","w-75"],[1,"card-body","px-5"],[1,"text-center","mt-2"],[1,"text-primary","fs-2","fw-bold"],[1,"text-muted","fs-5"],[1,"p-2","mt-5"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","email","placeholder","Enter username",1,"form-control",3,"ngClass"],[1,"float-end"],["routerLink","/auth/pass-reset/basic",1,"text-muted"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Enter password","id","password-input","formControlName","password",1,"form-control","pe-5","password-input",3,"type","ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"ri-eye-fill","align-middle",3,"ngClass","click"],[1,"form-check"],["type","checkbox","value","","id","auth-remember-check",1,"form-check-input"],["for","auth-remember-check",1,"form-check-label"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-center","mt-5"],[1,"mb-0"],["routerLink","/auth/signup/basic",1,"fw-semibold","text-secondary","text-decoration-underline"]],template:function(E,_){1&E&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m._UZ(4,"img",4),m.TgZ(5,"div",5)(6,"div",6),m._UZ(7,"img",7),m.qZA(),m.TgZ(8,"div")(9,"p",8),m._uU(10,"COPYRIGHTS \xa9 2023 ALL RIGHTS RESERVED BY M.S.P.C"),m.qZA()()()()(),m.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"h5",13),m._uU(16,"Welcome Back !"),m.qZA(),m.TgZ(17,"p",14),m._uU(18,"Sign in to continue to CompanyName"),m.qZA()(),m.TgZ(19,"div",15)(20,"form",16),m.NdJ("ngSubmit",function(){return _.onSubmit()}),m.TgZ(21,"div",17)(22,"label",18),m._uU(23,"Email"),m.qZA(),m._UZ(24,"input",19),m.qZA(),m.TgZ(25,"div",17)(26,"div",20)(27,"a",21),m._uU(28,"Forgot password?"),m.qZA()(),m.TgZ(29,"label",22),m._uU(30,"Password"),m.qZA(),m.TgZ(31,"div",23),m._UZ(32,"input",24),m.TgZ(33,"button",25)(34,"i",26),m.NdJ("click",function(){return _.toggleFieldTextType()}),m.qZA()()()(),m.TgZ(35,"div",27),m._UZ(36,"input",28),m.TgZ(37,"label",29),m._uU(38,"Remember me"),m.qZA()(),m.TgZ(39,"div",30)(40,"button",31),m._uU(41,"Sign In"),m.qZA()()(),m.TgZ(42,"div",32)(43,"p",33),m._uU(44,"Don't have an account ? "),m.TgZ(45,"a",34),m._uU(46," SignUp"),m.qZA()()()()()()()()()),2&E&&(m.xp6(20),m.Q6J("formGroup",_.loginForm),m.xp6(4),m.Q6J("ngClass",m.VKq(5,L,_.submitted&&_.f.email.errors)),m.xp6(8),m.Q6J("type",_.fieldTextType?"text":"password")("ngClass",m.VKq(7,L,_.submitted&&_.f.password.errors)),m.xp6(2),m.Q6J("ngClass",m.WLB(9,Y,!_.fieldTextType,_.fieldTextType)))},dependencies:[D.mk,ee.rH,R._Y,R.Fj,R.JJ,R.JL,R.sg,R.u],styles:[".banner-wr[_ngcontent-%COMP%]{background-image:url(/src/assets/images/login-bg.jpg)}.banner-wr[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.2}"]}),Q})();var J=I(590),re=I(529);let oe=(()=>{class Q{constructor(E){this.http=E}getAll(){return this.http.get("api/users")}register(E){return this.http.post("/users/register",E)}}return Q.\u0275fac=function(E){return new(E||Q)(m.LFG(re.eN))},Q.\u0275prov=m.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();const Se=function(Q){return{"is-invalid":Q}},Ce=[{path:"login",component:k},{path:"register",component:(()=>{class Q{constructor(E,_,y,O){this.formBuilder=E,this.router=_,this.authenticationService=y,this.userService=O,this.submitted=!1,this.successmsg=!1,this.error="",this.year=(new Date).getFullYear()}ngOnInit(){this.signupForm=this.formBuilder.group({email:["",[R.kI.required,R.kI.email]],name:["",[R.kI.required]],password:["",R.kI.required]})}get f(){return this.signupForm.controls}onSubmit(){this.submitted=!0,this.authenticationService.register(this.f.email.value,this.f.name.value,this.f.password.value).pipe((0,J.P)()).subscribe(E=>{this.successmsg=!0,this.successmsg&&this.router.navigate(["/auth/login"])},E=>{this.error=E||""})}}return Q.\u0275fac=function(E){return new(E||Q)(m.Y36(R.QS),m.Y36(ee.F0),m.Y36(U.$),m.Y36(oe))},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-register"]],decls:108,vars:11,consts:[[1,"auth-page-wrapper","py-5","position-relative","d-flex","align-items-center","justify-content-center","min-vh-100","bg-light"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","g-0"],[1,"col-lg-5"],[1,"auth-card","card","bg-primary","h-100","border-0","shadow-none","p-sm-3","overflow-hidden"],[1,"card-body","p-4","d-flex","justify-content-between","flex-column"],[1,"auth-image"],["src","assets/images/logo-light-full.png","alt","","height","26"],["src","assets/images/effect-pattern/auth-effect-2.png","alt","",1,"auth-effect-2"],["src","assets/images/effect-pattern/auth-effect.png","alt","",1,"auth-effect"],["src","assets/images/effect-pattern/auth-effect.png","alt","",1,"auth-effect-3"],[1,"text-white"],[1,"text-white-75","fs-15"],[1,"text-center","text-white-75"],[1,"mb-0"],[1,"mdi","mdi-heart","text-danger"],[1,"col-lg-7"],[1,"card","mb-0","border-0","py-3","shadow-none"],[1,"card-body","px-0","p-sm-5","m-lg-4"],[1,"text-center","mt-2"],[1,"text-primary","fs-20"],[1,"text-muted"],[1,"p-2","mt-5"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","useremail",1,"form-label"],[1,"text-danger"],["type","email","id","useremail","placeholder","Enter email address","required","","formControlName","email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["for","username",1,"form-label"],["type","text","id","username","placeholder","Enter username","required","","formControlName","name",1,"form-control",3,"ngClass"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup"],["type","password","onpaste","return false","placeholder","Enter password","id","password-input","aria-describedby","passwordInput","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}","required","","formControlName","password",1,"form-control","pe-5","password-input",3,"ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"ri-eye-fill","align-middle"],[1,"mb-4"],[1,"mb-0","fs-12","text-muted","fst-italic"],["href","javascript:void(0);",1,"text-primary","text-decoration-underline","fst-normal","fw-medium"],["id","password-contain",1,"p-3","bg-light","mb-2","rounded"],[1,"fs-13"],["id","pass-length",1,"invalid","fs-12","mb-2"],["id","pass-lower",1,"invalid","fs-12","mb-2"],["id","pass-upper",1,"invalid","fs-12","mb-2"],["id","pass-number",1,"invalid","fs-12","mb-0"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"mt-4","text-center"],[1,"signin-other-title"],[1,"fs-13","mb-4","title","text-muted"],["type","button",1,"btn","btn-soft-primary","btn-icon","me-1"],[1,"ri-facebook-fill","fs-16"],["type","button",1,"btn","btn-soft-danger","btn-icon","me-1"],[1,"ri-google-fill","fs-16"],["type","button",1,"btn","btn-soft-dark","btn-icon","me-1"],[1,"ri-github-fill","fs-16"],["type","button",1,"btn","btn-soft-info","btn-icon"],[1,"ri-twitter-fill","fs-16"],["routerLink","/auth/login",1,"fw-semibold","text-primary","text-decoration-underline"]],template:function(E,_){1&E&&(m.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),m._UZ(11,"img",11)(12,"img",12)(13,"img",13)(14,"img",14),m.qZA(),m.TgZ(15,"div")(16,"h3",15),m._uU(17,"Start your journey with us."),m.qZA(),m.TgZ(18,"p",16),m._uU(19,"It brings together your tasks, projects, timelines, files and more"),m.qZA()(),m.TgZ(20,"div",17)(21,"p",18),m._uU(22),m._UZ(23,"i",19),m._uU(24," by Themesbrand"),m.qZA()()()()(),m.TgZ(25,"div",20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"h5",24),m._uU(30,"Create New Account"),m.qZA(),m.TgZ(31,"p",25),m._uU(32,"Get your free Hybrix account now"),m.qZA()(),m.TgZ(33,"div",26)(34,"form",27),m.NdJ("ngSubmit",function(){return _.onSubmit()}),m.TgZ(35,"div",28)(36,"label",29),m._uU(37,"Email "),m.TgZ(38,"span",30),m._uU(39,"*"),m.qZA()(),m._UZ(40,"input",31),m.TgZ(41,"div",32),m._uU(42," Please enter email "),m.qZA()(),m.TgZ(43,"div",28)(44,"label",33),m._uU(45,"Username "),m.TgZ(46,"span",30),m._uU(47,"*"),m.qZA()(),m._UZ(48,"input",34),m.TgZ(49,"div",32),m._uU(50," Please enter username "),m.qZA()(),m.TgZ(51,"div",28)(52,"label",35),m._uU(53,"Password"),m.qZA(),m.TgZ(54,"div",36),m._UZ(55,"input",37),m.TgZ(56,"button",38),m._UZ(57,"i",39),m.qZA(),m.TgZ(58,"div",32),m._uU(59," Please enter password "),m.qZA()()(),m.TgZ(60,"div",40)(61,"p",41),m._uU(62," By registering you agree to the Hybrix "),m.TgZ(63,"a",42),m._uU(64,"Terms of Use"),m.qZA()()(),m.TgZ(65,"div",43)(66,"h5",44),m._uU(67,"Password must contain:"),m.qZA(),m.TgZ(68,"p",45),m._uU(69,"Minimum "),m.TgZ(70,"b"),m._uU(71,"8 characters"),m.qZA()(),m.TgZ(72,"p",46),m._uU(73,"At "),m.TgZ(74,"b"),m._uU(75,"lowercase"),m.qZA(),m._uU(76," letter (a-z)"),m.qZA(),m.TgZ(77,"p",47),m._uU(78,"At least "),m.TgZ(79,"b"),m._uU(80,"uppercase"),m.qZA(),m._uU(81," letter (A-Z)"),m.qZA(),m.TgZ(82,"p",48),m._uU(83,"A least "),m.TgZ(84,"b"),m._uU(85,"number"),m.qZA(),m._uU(86," (0-9)"),m.qZA()(),m.TgZ(87,"div",49)(88,"button",50),m._uU(89,"Sign Up"),m.qZA()(),m.TgZ(90,"div",51)(91,"div",52)(92,"h5",53),m._uU(93,"Create account with"),m.qZA()(),m.TgZ(94,"div")(95,"button",54),m._UZ(96,"i",55),m.qZA(),m.TgZ(97,"button",56),m._UZ(98,"i",57),m.qZA(),m.TgZ(99,"button",58),m._UZ(100,"i",59),m.qZA(),m.TgZ(101,"button",60),m._UZ(102,"i",61),m.qZA()()()()(),m.TgZ(103,"div",51)(104,"p",18),m._uU(105,"Already have an account ? "),m.TgZ(106,"a",62),m._uU(107," Signin "),m.qZA()()()()()()()()()()()()()),2&E&&(m.xp6(22),m.hij("\xa9 ",_.year," Hybrix. Crafted with "),m.xp6(12),m.Q6J("formGroup",_.signupForm),m.xp6(6),m.Q6J("ngClass",m.VKq(5,Se,_.submitted&&_.f.email.errors)),m.xp6(8),m.Q6J("ngClass",m.VKq(7,Se,_.submitted&&_.f.name.errors)),m.xp6(7),m.Q6J("ngClass",m.VKq(9,Se,_.submitted&&_.f.password.errors)))},dependencies:[D.mk,ee.rH,R._Y,R.Fj,R.JJ,R.JL,R.Q7,R.c5,R.sg,R.u]}),Q})()},{path:"signin",loadChildren:()=>I.e(758).then(I.bind(I,1758)).then(Q=>Q.SigninModule)},{path:"signup",loadChildren:()=>I.e(36).then(I.bind(I,9036)).then(Q=>Q.SignupModule)},{path:"pass-reset",loadChildren:()=>I.e(693).then(I.bind(I,2693)).then(Q=>Q.PassResetModule)},{path:"pass-change",loadChildren:()=>I.e(996).then(I.bind(I,6996)).then(Q=>Q.PassChangeModule)},{path:"lockscreen",loadChildren:()=>I.e(899).then(I.bind(I,1899)).then(Q=>Q.LockscreenModule)},{path:"logout",loadChildren:()=>I.e(818).then(I.bind(I,3592)).then(Q=>Q.LogoutModule)},{path:"success-msg",loadChildren:()=>I.e(96).then(I.bind(I,6096)).then(Q=>Q.SuccessMsgModule)},{path:"twostep",loadChildren:()=>Promise.all([I.e(352),I.e(592),I.e(375)]).then(I.bind(I,2375)).then(Q=>Q.TwostepModule)},{path:"error",loadChildren:()=>Promise.all([I.e(352),I.e(952)]).then(I.bind(I,7952)).then(Q=>Q.ErrorModule)}];let Pe=(()=>{class Q{}return Q.\u0275fac=function(E){return new(E||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[ee.Bz.forChild(Ce),ee.Bz]}),Q})(),de=(()=>{class Q{}return Q.\u0275fac=function(E){return new(E||Q)},Q.\u0275mod=m.oAB({type:Q}),Q.\u0275inj=m.cJS({imports:[D.ez,Pe,R.u5,R.UX]}),Q})()},2179:(pe,F,I)=>{"use strict";I.d(F,{g:()=>Jn});var D=function(i,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(i,e)};function ee(i,e){function t(){this.constructor=i}D(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var N=function(){return N=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},N.apply(this,arguments)};function p(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}function T(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}function k(i,e){var t="function"==typeof Symbol&&i[Symbol.iterator];if(!t)return i;var o,c,r=t.call(i),n=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)n.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return n}var _=(()=>{return(i=_||(_={})).Cognito="COGNITO",i.Google="Google",i.Facebook="Facebook",i.Amazon="LoginWithAmazon",i.Apple="SignInWithApple",_;var i})();function y(i){return i&&!!["provider"].find(function(t){return i.hasOwnProperty(t)})}function z(i){return void 0!==i.redirectSignIn}var i,P=(()=>{return(i=P||(P={})).NoConfig="noConfig",i.MissingAuthConfig="missingAuthConfig",i.EmptyUsername="emptyUsername",i.InvalidUsername="invalidUsername",i.EmptyPassword="emptyPassword",i.EmptyCode="emptyCode",i.SignUpError="signUpError",i.NoMFA="noMFA",i.InvalidMFA="invalidMFA",i.EmptyChallengeResponse="emptyChallengeResponse",i.NoUserSession="noUserSession",i.Default="default",i.DeviceConfig="deviceConfig",i.NetworkError="networkError",i.AutoSignInError="autoSignInError",P;var i})(),me=I(8624),ue=function(){return ue=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},ue.apply(this,arguments)},xe=function(i,e){var t="function"==typeof Symbol&&i[Symbol.iterator];if(!t)return i;var o,c,r=t.call(i),n=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)n.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return n},Z=function(i,e,t){if(t||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)(n||!(r in e))&&(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return i.concat(n||Array.prototype.slice.call(e))},K=new me.k("Hub"),V=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",fe=function(){function i(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return i.prototype._remove=function(e,t){if(e instanceof RegExp){var r=this.patterns.find(function(n){return n.pattern.source===e.source});if(!r)return void K.warn("No listeners for ".concat(e));this.patterns=Z([],xe(this.patterns.filter(function(n){return n!==r})),!1)}else{var o=this.listeners[e];if(!o)return void K.warn("No listeners for ".concat(e));this.listeners[e]=Z([],xe(o.filter(function(n){return n.callback!==t})),!1)}},i.prototype.remove=function(e,t){this._remove(e,t)},i.prototype.dispatch=function(e,t,r,o){void 0===r&&(r=""),this.protectedChannels.indexOf(e)>-1&&(o===V||K.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences")));var c={channel:e,payload:ue({},t),source:r,patternInfo:[]};try{this._toListeners(c)}catch(h){K.error(h)}},i.prototype.listen=function(e,t,r){var n,o=this;if(void 0===r&&(r="noname"),function ie(i){return void 0!==i.onHubCapsule}(t))K.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),n=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");n=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:n});else{var c=this.listeners[e];c||(this.listeners[e]=c=[]),c.push({name:r,callback:n})}return function(){o._remove(e,n)}},i.prototype._toListeners=function(e){var t=e.channel,r=e.payload,o=this.listeners[t];if(o&&o.forEach(function(c){K.debug("Dispatching to ".concat(t," with "),r);try{c.callback(e)}catch(h){K.error(h)}}),this.patterns.length>0){if(!r.message)return void K.warn("Cannot perform pattern matching without a message key");var n=r.message;this.patterns.forEach(function(c){var h=n.match(c.pattern);if(h){var u=xe(h).slice(1),d=ue(ue({},e),{patternInfo:u});try{c.callback(d)}catch(w){K.error(w)}}})}},i}(),ye=new fe("__default__"),X={},we=function(){function i(){}return i.setItem=function(e,t){return X[e]=t,X[e]},i.getItem=function(e){return Object.prototype.hasOwnProperty.call(X,e)?X[e]:void 0},i.removeItem=function(e){return delete X[e]},i.clear=function(){return X={}},i}(),Ue=function(){function i(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=we}}return i.prototype.getStorage=function(){return this.storageWindow},i}(),We=function(){return{isBrowser:typeof window<"u"&&typeof window.document<"u",isNode:typeof process<"u"&&null!=process.versions&&null!=process.versions.node}},l=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),v=function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})},S=function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}},A=function(i,e){var t="function"==typeof Symbol&&i[Symbol.iterator];if(!t)return i;var o,c,r=t.call(i),n=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)n.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return n},te=function(i,e,t){if(t||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)(n||!(r in e))&&(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return i.concat(n||Array.prototype.slice.call(e))},se=new me.k("Util"),ae=function(i){function e(t){var r=i.call(this,t)||this;return r.nonRetryable=!0,r}return l(e,i),e}(Error),Xe=3e5;function nt(i){return void 0===i&&(i=Xe),function(r){var o=100*Math.pow(2,r)+100*Math.random();return!(o>i)&&o}}var wt,rt=new me.k("CognitoCredentials"),$n=new Promise(function(i,e){return We().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(rt.debug("google api already loaded"),i()):void setTimeout(function(){return i()},2e3):(rt.debug("not in the browser, directly resolved"),i())}),er=function(){function i(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return i.prototype.refreshGoogleToken=function(){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(this,void 0,void 0,function(){return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(rt.debug("need to wait for the Google SDK loaded"),[4,$n]);case 1:e.sent(),this.initialized=!0,rt.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},i.prototype._refreshGoogleTokenImpl=function(){var e=null;return We().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise(function(t,r){e.getAuthInstance().then(function(o){o||(rt.debug("google Auth undefined"),r(new ae("google Auth undefined")));var n=o.currentUser.get();n.isSignedIn()?(rt.debug("refreshing the google access token"),n.reloadAuthResponse().then(function(c){t({token:c.id_token,expires_at:c.expires_at})}).catch(function(c){r(c&&"network_error"===c.error?"Network error reloading google auth response":new ae("Failed to reload google auth response"))})):r(new ae("User is not signed in with Google"))}).catch(function(o){rt.debug("Failed to refresh google token",o),r(new ae("Failed to refresh google token"))})}):(rt.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},i}(),ut=new me.k("CognitoCredentials"),rr=new Promise(function(i,e){return We().isBrowser?window.FB?(ut.debug("FB SDK already loaded"),i()):void setTimeout(function(){return i()},2e3):(ut.debug("not in the browser, directly resolved"),i())}),ir=function(){function i(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return i.prototype.refreshFacebookToken=function(){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(this,void 0,void 0,function(){return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ut.debug("need to wait for the Facebook SDK loaded"),[4,rr]);case 1:e.sent(),this.initialized=!0,ut.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},i.prototype._refreshFacebookTokenImpl=function(){var e=null;if(We().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return ut.debug(t),Promise.reject(new ae(t))}return new Promise(function(r,o){e.getLoginStatus(function(n){if(n&&n.authResponse){var h=n.authResponse,g=h.accessToken,w=1e3*h.expiresIn+(new Date).getTime();g||(ut.debug(c="the jwtToken is undefined"),o(new ae(c))),r({token:g,expires_at:w})}else{var c;ut.debug(c="no response from facebook when refreshing the jwt token"),o(new ae(c))}},{scope:"public_profile,email"})})},i}(),or=new er,sr=new ir,Zt=I(6699),mn={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},ar={partitions:[mn,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},cr=function(i){var e,t,r=ar.partitions;try{for(var o=function(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),n=o.next();!n.done;n=o.next()){var c=n.value,h=c.regions,g=c.outputs,d=new RegExp(c.regionRegex);if(h.includes(i)||d.test(i))return g.dnsSuffix}}catch(w){e={error:w}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return mn.outputs.dnsSuffix},_t=function(){return _t=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},_t.apply(this,arguments)},gr=function(i,e){if(e?.aborted)return Promise.resolve();var t,r,o=new Promise(function(n){r=n,t=setTimeout(n,i)});return e?.addEventListener("abort",function n(c){clearTimeout(t),e?.removeEventListener("abort",n),r()}),o},yn=function(i,e){var t;"[object Object]"===Object.prototype.toString.call(i)&&(i.$metadata=_t(_t({},null!==(t=i.$metadata)&&void 0!==t?t:{}),{attempts:e}))},wn=function(i,e){return function(t,r){for(var o={},n=function(u){return i(u,r)},c=e.length-1;c>=0;c--)n=(0,e[c])(r)(n,o);return n(t)}},qt=(I(3024),function(i){var e;return function(){return e||(e=i()),e}}),It=function(){return It=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},It.apply(this,arguments)},Sr=function(i){return!["HEAD","GET","DELETE"].includes(i.toUpperCase())},br=wn(function(i,e){var t=i.url,r=i.method,o=i.headers,n=i.body,c=e.abortSignal;return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(void 0,void 0,void 0,function(){var h,g,u,d,w,b,x;return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,fetch(t,{method:r,headers:o,body:Sr(r)?n:void 0,signal:c})];case 1:return h=C.sent(),[3,3];case 2:throw(g=C.sent())instanceof TypeError?new Error("Network error"):g;case 3:return u={},null===(b=h.headers)||void 0===b||b.forEach(function(M,W){u[W.toLowerCase()]=M}),d={statusCode:h.status,headers:u,body:null},w=Object.assign(null!==(x=h.body)&&void 0!==x?x:{},{text:qt(function(){return h.text()}),blob:qt(function(){return h.blob()}),json:qt(function(){return h.json()})}),[2,It(It({},d),{body:w})]}})})},[function(i){var e=i.userAgentHeader,t=void 0===e?"x-amz-user-agent":e,r=i.userAgentValue,o=void 0===r?"":r;return function(n){return function(h){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(this,void 0,void 0,function(){var u;return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(w){switch(w.label){case 0:return 0!==o.trim().length?[3,2]:[4,n(h)];case 1:case 3:return[2,w.sent()];case 2:return u=t.toLowerCase(),h.headers[u]=h.headers[u]?"".concat(h.headers[u]," ").concat(o):o,[4,n(h)]}})})}}},function(i){var e=i.maxAttempts,t=void 0===e?3:e,r=i.retryDecider,o=i.computeDelay,n=i.abortSignal;if(t<1)throw new Error("maxAttempts must be greater than 0");return function(c,h){return function(u){var d;return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(this,void 0,void 0,function(){var w,b,x,C,M,W;return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(G){switch(G.label){case 0:b=null!==(d=h.attemptsCount)&&void 0!==d?d:0,C=function(){if(x)return yn(x,b),x;throw yn(w,b),w},G.label=1;case 1:if(n?.aborted||!(b<t))return[3,11];G.label=2;case 2:return G.trys.push([2,4,,5]),[4,c(u)];case 3:return x=G.sent(),w=void 0,[3,5];case 4:return M=G.sent(),w=M,x=void 0,[3,5];case 5:return h.attemptsCount=b=h.attemptsCount>b?h.attemptsCount:b+1,[4,r(x,w)];case 6:return G.sent()?!n?.aborted&&b<t?(W=o(b),[4,gr(W,n)]):[3,8]:[3,9];case 7:G.sent(),G.label=8;case 8:return[3,1];case 9:return[2,C()];case 10:return[3,1];case 11:if(n?.aborted)throw new Error("Request aborted.");return[2,C()]}})})}}}]),Et=function(){return Et=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},Et.apply(this,arguments)},Ct=function(i){var e,t,r=i.headers,o=i.statusCode;return Et(Et({},_r(i)?i.$metadata:{}),{httpStatusCode:o,requestId:null!==(t=null!==(e=r["x-amzn-requestid"])&&void 0!==e?e:r["x-amzn-request-id"])&&void 0!==t?t:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]})},_r=function(i){return"object"==typeof i?.$metadata},Sn=function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})},An=function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}},Jt=function(i){return Sn(void 0,void 0,void 0,function(){var e,t,r,o,n,c,h,g,u,d;return An(this,function(w){switch(w.label){case 0:return!i||i.statusCode<300?[2]:[4,zt(i)];case 1:return e=w.sent(),t=function(b){var x=function(i,e){var t="function"==typeof Symbol&&i[Symbol.iterator];if(!t)return i;var o,c,r=t.call(i),n=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)n.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return n}(b.toString().split(/[\,\:]+/),1),C=x[0];return C.includes("#")?C.split("#")[1]:C},r=t(null!==(g=null!==(h=null!==(c=i.headers["x-amzn-errortype"])&&void 0!==c?c:e.code)&&void 0!==h?h:e.__type)&&void 0!==g?g:"UnknownError"),o=null!==(d=null!==(u=e.message)&&void 0!==u?u:e.Message)&&void 0!==d?d:"Unknown error",n=new Error(o),[2,Object.assign(n,{name:r,$metadata:Ct(i)})]}})})},zt=function(i){return Sn(void 0,void 0,void 0,function(){var e;return An(this,function(t){switch(t.label){case 0:if(!i.body)throw new Error("Missing response payload");return[4,i.body.json()];case 1:return e=t.sent(),[2,Object.assign(e,{$metadata:Ct(i)})]}})})},Er=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Cr=function(i){return Er.includes(i)},Pr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Rr=["TimeoutError","RequestTimeout","RequestTimeoutException"],Dr=function(i,e){return 429===i||Pr.includes(e)},Fr=function(i){return"Network error"===i?.name},Or=function(i,e){return[500,502,503,504].includes(i)||Rr.includes(e)},Ne=(()=>(function(i){i.WebUnknown="0",i.React="1",i.NextJs="2",i.Angular="3",i.VueJs="4",i.Nuxt="5",i.Svelte="6",i.ServerSideUnknown="100",i.ReactSSR="101",i.NextJsSSR="102",i.AngularSSR="103",i.VueJsSSR="104",i.NuxtSSR="105",i.SvelteSSR="106",i.ReactNative="201",i.Expo="202"}(Ne||(Ne={})),Ne))(),Ut=(()=>(function(i){i.API="api",i.Auth="auth",i.Analytics="analytics",i.DataStore="datastore",i.Geo="geo",i.InAppMessaging="inappmessaging",i.Interactions="interactions",i.Predictions="predictions",i.PubSub="pubsub",i.PushNotification="pushnotification",i.Storage="storage"}(Ut||(Ut={})),Ut))(),xt=(()=>(function(i){i.FederatedSignIn="30"}(xt||(xt={})),xt))(),_n="5.3.13",Tt=function(){return typeof global<"u"},lt=function(){return typeof window<"u"},In=function(){return typeof document<"u"},Qt=function(){return typeof process<"u"},yt=function(i,e){return!!Object.keys(i).find(function(t){return t.startsWith(e)})},Qr=[{platform:Ne.Expo,detectionMethod:function Jr(){return Tt()&&typeof global.expo<"u"}},{platform:Ne.ReactNative,detectionMethod:function qr(){return typeof navigator<"u"&&typeof navigator.product<"u"&&"ReactNative"===navigator.product}},{platform:Ne.NextJs,detectionMethod:function Hr(){return lt()&&window.next&&"object"==typeof window.next}},{platform:Ne.Nuxt,detectionMethod:function Wr(){return lt()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:Ne.Angular,detectionMethod:function Yr(){var i=Boolean(In()&&document.querySelector("[ng-version]")),e=Boolean(lt()&&typeof window.ng<"u");return i||e}},{platform:Ne.React,detectionMethod:function Mr(){var i=function(r){return r.startsWith("_react")||r.startsWith("__react")};return In()&&Array.from(document.querySelectorAll("[id]")).some(function(r){return Object.keys(r).find(i)})}},{platform:Ne.VueJs,detectionMethod:function Br(){return lt()&&yt(window,"__VUE")}},{platform:Ne.Svelte,detectionMethod:function jr(){return lt()&&yt(window,"__SVELTE")}},{platform:Ne.WebUnknown,detectionMethod:function zr(){return lt()}},{platform:Ne.NextJsSSR,detectionMethod:function Vr(){return Tt()&&(yt(global,"__next")||yt(global,"__NEXT"))}},{platform:Ne.NuxtSSR,detectionMethod:function Gr(){return Tt()&&typeof global.__NUXT_PATHS__<"u"}},{platform:Ne.ReactSSR,detectionMethod:function Nr(){return Qt()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(i){return i.includes("react")})}},{platform:Ne.VueJsSSR,detectionMethod:function Lr(){return Tt()&&yt(global,"__VUE")}},{platform:Ne.AngularSSR,detectionMethod:function Zr(){var i;return Qt()&&"object"==typeof process.env&&(null===(i=process.env.npm_lifecycle_script)||void 0===i?void 0:i.startsWith("ng "))||!1}},{platform:Ne.SvelteSSR,detectionMethod:function Kr(){return Qt()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(i){return i.includes("svelte")})}}],Pt=[],Rt=!1,ti=1e3,Xt=function(){if(!wt){if(wt=function Xr(){var i;return(null===(i=Qr.find(function(e){return e.detectionMethod()}))||void 0===i?void 0:i.platform)||Ne.ServerSideUnknown}(),Rt)for(;Pt.length;)Pt.pop()();else Pt.forEach(function(i){return i()});Cn(Ne.ServerSideUnknown,10),Cn(Ne.WebUnknown,10)}return wt},En=function(i){Rt||Pt.push(i)};function Cn(i,e){wt===i&&!Rt&&setTimeout(function(){(function ni(){wt=void 0})(),Rt=!0,setTimeout(Xt,ti)},e)}var Un="aws-amplify",ii=function(){function i(){this.userAgent="".concat(Un,"/").concat(_n)}return Object.defineProperty(i.prototype,"framework",{get:function(){return Xt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isReactNative",{get:function(){return this.framework===Ne.ReactNative||this.framework===Ne.Expo},enumerable:!1,configurable:!0}),i.prototype.observeFrameworkChanges=function(e){En(e)},i}(),$t=new ii,en=function(i){var e=function(i){var e=void 0===i?{}:i,t=e.category,n=[[Un,_n]];return t&&n.push([t,e.action]),n.push(["framework",Xt()]),n}(i),t=e.map(function(r){var o=function(i,e){var t="function"==typeof Symbol&&i[Symbol.iterator];if(!t)return i;var o,c,r=t.call(i),n=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)n.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return n}(r,2),c=o[1];return"".concat(o[0],"/").concat(c)}).join(" ");return t},xn=wn(br,[function(){return function(i,e){return function(r){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(this,void 0,void 0,function(){return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(o){return r.headers["cache-control"]="no-store",[2,i(r)]})})}}}]),tn={service:"cognito-identity",endpointResolver:function(i){var e=i.region;return{url:new URL("https://cognito-identity.".concat(e,".").concat(cr(e)))}},retryDecider:function(i){return function(e,t){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(void 0,void 0,void 0,function(){var r,o,n,c;return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(h){switch(h.label){case 0:return null==t?[3,1]:(o=t,[3,3]);case 1:return[4,i(e)];case 2:o=h.sent(),h.label=3;case 3:return r=(null!==(c=o)&&void 0!==c?c:{}).name,n=e?.statusCode,[2,Fr(t)||Dr(n,r)||Cr(r)||Or(n,r)]}})})}}(Jt),computeDelay:function(i){var t=nt(3e5)(i);return!1===t?3e5:t},userAgentValue:en()};En(function(){tn.userAgentValue=en()});var Tn=function(i){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(i)}},Pn=function(i,e,t){return{headers:e,url:i.url,body:t,method:"POST"}},St=function(){return St=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},St.apply(this,arguments)},Rn=function(i,e,t,r){return function(o,n){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(void 0,void 0,void 0,function(){var c,h,g,u;return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(d){switch(d.label){case 0:return[4,(c=St(St({},r),o)).endpointResolver(c,n)];case 1:return h=d.sent(),[4,e(n,h)];case 2:return g=d.sent(),[4,i(g,St({},c))];case 3:return u=d.sent(),[4,t(u)];case 4:return[2,d.sent()]}})})}},Dt=Rn(xn,function(i,e){var t=Tn("GetId"),r=JSON.stringify(i);return Pn(e,t,r)},function(i){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(void 0,void 0,void 0,function(){return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(r){switch(r.label){case 0:return i.statusCode>=300?[4,Jt(i)]:[3,2];case 1:throw r.sent();case 2:return[4,zt(i)];case 3:return[2,{IdentityId:r.sent().IdentityId,$metadata:Ct(i)}]}})})},tn),Ai=function(i){return void 0===i&&(i={}),{AccessKeyId:i.AccessKeyId,SecretKey:i.SecretKey,SessionToken:i.SessionToken,Expiration:new Date(1e3*i.Expiration)}},Ft=Rn(xn,function(i,e){var t=Tn("GetCredentialsForIdentity"),r=JSON.stringify(i);return Pn(e,t,r)},function(i){return function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})}(void 0,void 0,void 0,function(){var t;return function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}}(this,function(r){switch(r.label){case 0:return i.statusCode>=300?[4,Jt(i)]:[3,2];case 1:throw r.sent();case 2:return[4,zt(i)];case 3:return[2,{IdentityId:(t=r.sent()).IdentityId,Credentials:Ai(t.Credentials),$metadata:Ct(i)}]}})})},tn),Ot=function(){return Ot=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},Ot.apply(this,arguments)},bi=new me.k("Parser"),Dn=function(i){var r,e={};return i.aws_mobile_analytics_app_id&&(e.Analytics={AWSPinpoint:{appId:i.aws_mobile_analytics_app_id,region:i.aws_mobile_analytics_app_region}}),(i.aws_cognito_identity_pool_id||i.aws_user_pools_id)&&(e.Auth={userPoolId:i.aws_user_pools_id,userPoolWebClientId:i.aws_user_pools_web_client_id,region:i.aws_cognito_region,identityPoolId:i.aws_cognito_identity_pool_id,identityPoolRegion:i.aws_cognito_region,mandatorySignIn:"enable"===i.aws_mandatory_sign_in,signUpVerificationMethod:i.aws_cognito_sign_up_verification_method||"code"}),r=i.aws_user_files_s3_bucket?{AWSS3:{bucket:i.aws_user_files_s3_bucket,region:i.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:i.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:i?i.Storage||i:{},i.Logging&&(e.Logging=Ot(Ot({},i.Logging),{region:i.aws_project_region})),i.geo&&(e.Geo=Object.assign({},i.geo),i.geo.amazon_location_service&&(e.Geo={AmazonLocationService:i.geo.amazon_location_service})),e.Analytics=Object.assign({},e.Analytics,i.Analytics),e.Auth=Object.assign({},e.Auth,i.Auth),e.Storage=Object.assign({},r),e.Logging=Object.assign({},e.Logging,i.Logging),bi.debug("parse config",i,"to amplifyconfig",e),e},kt=function(){return kt=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},kt.apply(this,arguments)},Ze=function(i,e,t,r){return new(t||(t=Promise))(function(n,c){function h(d){try{u(r.next(d))}catch(w){c(w)}}function g(d){try{u(r.throw(d))}catch(w){c(w)}}function u(d){d.done?n(d.value):function o(n){return n instanceof t?n:new t(function(c){c(n)})}(d.value).then(h,g)}u((r=r.apply(i,e||[])).next())})},qe=function(i,e){var r,o,n,c,t={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(d){return function g(u){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(t=0)),t;)try{if(r=1,o&&(n=2&u[0]?o.return:u[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,u[1])).done)return n;switch(o=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(!(n=(n=t.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){t=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){t.label=u[1];break}if(6===u[0]&&t.label<n[1]){t.label=n[1],n=u;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(u);break}n[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(d){u=[6,d],o=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,d])}}},be=new me.k("Credentials"),Ei=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ui=function(){function i(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=or.refreshGoogleToken,this._refreshHandlers.facebook=sr.refreshFacebookToken}return i.prototype.getModuleName=function(){return"Credentials"},i.prototype.getCredSource=function(){return this._credentials_source},i.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=kt(kt({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new Ue).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),ye.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",Ei),this._config},i.prototype.get=function(){return be.debug("getting credentials"),this._pickupCredentials()},i.prototype._getCognitoIdentityIdStorageKey=function(e){return"".concat("CognitoIdentityId-").concat(e)},i.prototype._pickupCredentials=function(){return be.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?be.debug("getting old cred promise"):(be.debug("getting new cred promise"),this._gettingCredPromise=function(i){if(i.isResolved)return i;var e=!0,t=!1,r=!1,o=i.then(function(n){return r=!0,e=!1,n},function(n){throw t=!0,e=!1,n});return o.isFullfilled=function(){return r},o.isPending=function(){return e},o.isRejected=function(){return t},o}(this._keepAlive())),this._gettingCredPromise},i.prototype._keepAlive=function(){return Ze(this,void 0,void 0,function(){var e,t,r,o,n,c,g;return qe(this,function(u){switch(u.label){case 0:if(be.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return be.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(be.debug("need to get a new credential or refresh the existing one"),!(r=void 0===(t=this.Auth)?Zt.d.Auth:t)||"function"!=typeof r.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];be.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,r.currentUserPoolUser()];case 2:return o=u.sent(),[4,r.currentSession()];case 3:return n=u.sent(),c=n.refreshToken,[4,new Promise(function(d,w){o.refreshSession(c,function(b,x){return b?w(b):d(x)})})];case 4:return u.sent(),[3,6];case 5:return g=u.sent(),be.debug("Error attempting to refreshing the session",g),[3,6];case 6:return[2,r.currentUserCredentials()]}})})},i.prototype.refreshFederatedToken=function(e){be.debug("Getting federated credentials");var t=e.provider,r=e.user,o=e.token,n=e.identity_id,c=e.expires_at;c=1970===new Date(c).getFullYear()?1e3*c:c;var h=this;return be.debug("checking if federated jwt token expired"),c>(new Date).getTime()?(be.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:o,user:r,identity_id:n,expires_at:c})):h._refreshHandlers[t]&&"function"==typeof h._refreshHandlers[t]?(be.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:h._refreshHandlers[t],provider:t,user:r})):(be.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},i.prototype._providerRefreshWithRetry=function(e){var t=this,o=e.provider,n=e.user;return function(i,e,t,r){return void 0===t&&(t=Xe),function le(i,e,t,r){return v(this,void 0,void 0,function(){var o=this;return S(this,function(n){if("function"!=typeof i)throw Error("functionToRetry must be a function");return[2,new Promise(function(c,h){return v(o,void 0,void 0,function(){var g,u,d,w,b,x,C;return S(this,function(M){switch(M.label){case 0:g=0,u=!1,w=function(){},r&&r.then(function(){u=!0,clearTimeout(d),w()}),x=function(){var W,G,$,ce;return S(this,function(ge){switch(ge.label){case 0:g++,se.debug("".concat(i.name," attempt #").concat(g," with this vars: ").concat(JSON.stringify(e))),ge.label=1;case 1:return ge.trys.push([1,3,,7]),W={},G=c,[4,i.apply(void 0,te([],A(e),!1))];case 2:return[2,(W.value=G.apply(void 0,[ge.sent()]),W)];case 3:return $=ge.sent(),b=$,se.debug("error on ".concat(i.name),$),function(i){return i&&i.nonRetryable}($)?(se.debug("".concat(i.name," non retryable error"),$),[2,{value:h($)}]):(ce=t(g,e,$),se.debug("".concat(i.name," retrying in ").concat(ce," ms")),!1===ce||u?[2,{value:h($)}]:[3,4]);case 4:return[4,new Promise(function(Be){w=Be,d=setTimeout(w,ce)})];case 5:ge.sent(),ge.label=6;case 6:return[3,7];case 7:return[2]}})},M.label=1;case 1:return u?[3,3]:[5,x()];case 2:return"object"==typeof(C=M.sent())?[2,C.value]:[3,1];case 3:return h(b),[2]}})})})]})})}(i,e,nt(t),r)}(e.refreshHandler,[],1e4).then(function(h){return be.debug("refresh federated token sucessfully",h),t._setCredentialsFromFederation({provider:o,token:h.token,user:n,identity_id:h.identity_id,expires_at:h.expires_at})}).catch(function(h){return"string"==typeof h&&0===h.toLowerCase().lastIndexOf("network error",h.length)||t.clear(),be.debug("refresh federated token failed",h),Promise.reject("refreshing federation token failed: "+h)})},i.prototype._isExpired=function(e){if(!e)return be.debug("no credentials for expiration check"),!0;be.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},i.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},i.prototype._setCredentialsForGuest=function(){var e;return Ze(this,void 0,void 0,function(){var t,r,o,c,h,g,u,w,b=this;return qe(this,function(x){switch(x.label){case 0:return be.debug("setting credentials for guest"),!(null===(e=this._config)||void 0===e)&&e.identityPoolId||(this._config=Object.assign({},this._config,Dn(this._config||{}).Auth)),r=(t=this._config).identityPoolId,o=t.region,c=t.identityPoolRegion,t.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:r?c||o?(g=this,[4,this._getGuestIdentityId()]):(be.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(be.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return h=g._identityId=x.sent(),u={region:c??o},w=Ze(b,void 0,void 0,function(){var C,M;return qe(this,function(W){switch(W.label){case 0:return h?[3,2]:[4,Dt(u,{IdentityPoolId:r})];case 1:C=W.sent().IdentityId,this._identityId=C,W.label=2;case 2:return[4,Ft(u,{IdentityId:this._identityId})];case 3:return M=W.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:M.AccessKeyId,secretAccessKey:M.SecretKey,sessionToken:M.SessionToken,expiration:M.Expiration}]}})}).catch(function(C){return Ze(b,void 0,void 0,function(){return qe(this,function(M){throw C})})}),[2,this._loadCredentials(w,"guest",!1,null).then(function(C){return C}).catch(function(C){return Ze(b,void 0,void 0,function(){var W=this;return qe(this,function(G){switch(G.label){case 0:return"ResourceNotFoundException"===C.name&&C.message==="Identity '".concat(h,"' not found.")?(be.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return G.sent(),w=Ze(W,void 0,void 0,function(){var $,ce;return qe(this,function(ge){switch(ge.label){case 0:return[4,Dt(u,{IdentityPoolId:r})];case 1:return $=ge.sent().IdentityId,this._identityId=$,[4,Ft(u,{IdentityId:$})];case 2:return ce=ge.sent().Credentials,[2,{identityId:$,accessKeyId:ce.AccessKeyId,secretAccessKey:ce.SecretKey,sessionToken:ce.SessionToken,expiration:ce.Expiration}]}})}).catch(function($){return Ze(W,void 0,void 0,function(){return qe(this,function(ce){throw $})})}),[2,this._loadCredentials(w,"guest",!1,null)];case 2:return[2,C]}})})})]}})})},i.prototype._setCredentialsFromFederation=function(e){var t=this,r=e.provider,o=e.token,n=e.identity_id,h={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[r]||r;if(!h)return Promise.reject("You must specify a federated provider");var g={};g[h]=o;var u=this._config,d=u.identityPoolId,w=u.region,b=u.identityPoolRegion;if(!d)return be.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!b&&!w)return be.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var x={region:b??w},M=Ze(t,void 0,void 0,function(){var W,G;return qe(this,function($){switch($.label){case 0:return n?[3,2]:[4,Dt(x,{IdentityPoolId:d,Logins:g})];case 1:W=$.sent().IdentityId,n=W,$.label=2;case 2:return[4,Ft(x,{IdentityId:n,Logins:g})];case 3:return G=$.sent().Credentials,[2,{identityId:n,accessKeyId:G.AccessKeyId,secretAccessKey:G.SecretKey,sessionToken:G.SessionToken,expiration:G.Expiration}]}})}).catch(function(W){return Ze(t,void 0,void 0,function(){return qe(this,function(G){throw W})})});return this._loadCredentials(M,"federated",!0,e)},i.prototype._setCredentialsFromSession=function(e){var t=this;be.debug("set credentials from session");var r=e.getIdToken().getJwtToken(),o=this._config,n=o.region,c=o.userPoolId,h=o.identityPoolId,g=o.identityPoolRegion;if(!h)return be.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!g&&!n)return be.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var d={};d["cognito-idp."+n+".amazonaws.com/"+c]=r;var w={region:g??n},x=Ze(t,void 0,void 0,function(){var C,M,W,G,$,ce,ge,Be,Le,Me;return qe(this,function(Ve){switch(Ve.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(C=Ve.sent())?[3,3]:[4,Dt(w,{IdentityPoolId:h,Logins:d})];case 2:W=Ve.sent().IdentityId,M=W,Ve.label=3;case 3:return[4,Ft(w,{IdentityId:C||M,Logins:d})];case 4:return G=Ve.sent(),ce=($=G.Credentials).AccessKeyId,ge=$.Expiration,Be=$.SecretKey,Le=$.SessionToken,this._identityId=Me=G.IdentityId,C?(be.debug("The guest identity ".concat(C," has been successfully linked to the logins")),C===Me&&be.debug("The guest identity ".concat(C," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:Ve.sent(),Ve.label=6;case 6:return[2,{accessKeyId:ce,secretAccessKey:Be,sessionToken:Le,expiration:ge,identityId:Me}]}})}).catch(function(C){return Ze(t,void 0,void 0,function(){return qe(this,function(M){throw C})})});return this._loadCredentials(x,"userPool",!0,null)},i.prototype._loadCredentials=function(e,t,r,o){var n=this,c=this;return new Promise(function(h,g){e.then(function(u){return Ze(n,void 0,void 0,function(){var d,w,b,x,C;return qe(this,function(M){switch(M.label){case 0:if(be.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),c._credentials=u,c._credentials.authenticated=r,c._credentials_source=t,c._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){d=Object.assign({id:this._credentials.identityId},o.user),w=o.provider,b=o.token,x=o.expires_at,C=o.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:w,token:b,user:d,expires_at:x,identity_id:C}))}catch(W){be.debug("Failed to put federated info into auth storage",W)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:M.sent(),M.label=2;case 2:return h(c._credentials),[2]}})})}).catch(function(u){if(u)return be.debug("Failed to load credentials",e),be.debug("Error loading credentials",u),void g(u)})})},i.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(be.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},i.prototype.clear=function(){return Ze(this,void 0,void 0,function(){return qe(this,function(e){return this._credentials=null,this._credentials_source=null,be.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},i.prototype._getGuestIdentityId=function(){return Ze(this,void 0,void 0,function(){var e,t;return qe(this,function(r){switch(r.label){case 0:e=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=r.sent(),be.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},i.prototype._setGuestIdentityId=function(e){return Ze(this,void 0,void 0,function(){var t,r;return qe(this,function(o){switch(o.label){case 0:t=this._config.identityPoolId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return r=o.sent(),be.debug("Failed to cache guest identityId",r),[3,4];case 4:return[2]}})})},i.prototype._removeGuestIdentityId=function(){return Ze(this,void 0,void 0,function(){var e;return qe(this,function(t){return be.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(e=this._config.identityPoolId)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]})})},i.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},i}(),Fn=new Ui(null);Zt.d.register(Fn);var Mt=I(3555);function On(i,e){void 0===e&&(e={});var t=function Ri(i){return i&&"j"===i[0]&&":"===i[1]?i.substr(2):i}(i);if(function Pi(i,e){return typeof e>"u"&&(e=!i||"{"!==i[0]&&"["!==i[0]&&'"'!==i[0]),!e}(t,e.doNotParse))try{return JSON.parse(t)}catch{}return i}var ct=function(){return ct=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},ct.apply(this,arguments)},Di=function(){function i(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function Ti(i,e){return"string"==typeof i?Mt.Q(i,e):"object"==typeof i&&null!==i?i:{}}(e,t),new Promise(function(){r.HAS_DOCUMENT_COOKIE=function xi(){return"object"==typeof document&&"string"==typeof document.cookie}()}).catch(function(){})}return i.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Mt.Q(document.cookie,e))},i.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},i.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),On(this.cookies[e],t)},i.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var o in this.cookies)r[o]=On(this.cookies[o],e);return r},i.prototype.set=function(e,t,r){var o;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=ct(ct({},this.cookies),((o={})[e]=t,o)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Mt.q(e,t,r)),this._emitChange({name:e,value:t,options:r})},i.prototype.remove=function(e,t){var r=t=ct(ct({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=ct({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Mt.q(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},i.prototype.addChangeListener=function(e){this.changeListeners.push(e)},i.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},i}();const nn=Di;var $e,Nt=function(){return Nt=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i},Nt.apply(this,arguments)},kn=We().isBrowser,Oi=function(){function i(e){void 0===e&&(e={}),this.cookies=new nn,this.store=kn?window.localStorage:Object.create(null),this.cookies=e.req?new nn(decodeURIComponent(e.req.headers.cookie)):new nn,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(i.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),i.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map(function(t,r){return e.key(r)}).forEach(function(t){return e.removeItem(t)})},i.prototype.getItem=function(e){return this.getLocalItem(e)},i.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},i.prototype.getUniversalItem=function(e){return this.cookies.get(e)},i.prototype.key=function(e){return Object.keys(this.store)[e]},i.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},i.prototype.removeLocalItem=function(e){delete this.store[e]},i.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},i.prototype.setItem=function(e,t){this.setLocalItem(e,t);var r=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(r??"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},i.prototype.setLocalItem=function(e,t){this.store[e]=t},i.prototype.setUniversalItem=function(e,t,r){void 0===r&&(r={}),this.cookies.set(e,t,Nt(Nt({},r),{path:"/",sameSite:!0,secure:!(kn&&"localhost"===window.location.hostname)}))},i}(),Mn=function(){function i(t){var r=t||{},n=r.Username,c=r.Password,h=r.AuthParameters,g=r.ClientMetadata;this.validationData=r.ValidationData||{},this.authParameters=h||{},this.clientMetadata=g||{},this.username=n,this.password=c}var e=i.prototype;return e.getUsername=function(){return this.username},e.getPassword=function(){return this.password},e.getValidationData=function(){return this.validationData},e.getAuthParameters=function(){return this.authParameters},e.getClientMetadata=function(){return this.clientMetadata},i}(),ke=I(7592);if(typeof window<"u"&&window.crypto&&($e=window.crypto),!$e&&typeof window<"u"&&window.msCrypto&&($e=window.msCrypto),!$e&&typeof global<"u"&&global.crypto&&($e=global.crypto),!$e)try{$e=I(6249)}catch{}function Ni(){if($e){if("function"==typeof $e.getRandomValues)try{return $e.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof $e.randomBytes)try{return $e.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}var Li=function(){function i(t,r){t=this.words=t||[],this.sigBytes=null!=r?r:4*t.length}var e=i.prototype;return e.random=function(r){for(var o=[],n=0;n<r;n+=4)o.push(Ni());return new i(o,r)},e.toString=function(){return function Bi(i){for(var e=i.words,t=i.sigBytes,r=[],o=0;o<t;o++){var n=e[o>>>2]>>>24-o%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")}(this)},i}(),ht=I(4578);const Ke=he;function he(i,e){null!=i&&this.fromString(i,e)}function Je(){return new he(null)}var it,Bn=typeof navigator<"u";Bn&&"Microsoft Internet Explorer"==navigator.appName?(he.prototype.am=function Hi(i,e,t,r,o,n){for(var c=32767&e,h=e>>15;--n>=0;){var g=32767&this[i],u=this[i++]>>15,d=h*g+u*c;o=((g=c*g+((32767&d)<<15)+t[r]+(1073741823&o))>>>30)+(d>>>15)+h*u+(o>>>30),t[r++]=1073741823&g}return o},it=30):Bn&&"Netscape"!=navigator.appName?(he.prototype.am=function Ki(i,e,t,r,o,n){for(;--n>=0;){var c=e*this[i++]+t[r]+o;o=Math.floor(c/67108864),t[r++]=67108863&c}return o},it=26):(he.prototype.am=function Vi(i,e,t,r,o,n){for(var c=16383&e,h=e>>14;--n>=0;){var g=16383&this[i],u=this[i++]>>14,d=h*g+u*c;o=((g=c*g+((16383&d)<<14)+t[r]+o)>>28)+(d>>14)+h*u,t[r++]=268435455&g}return o},it=28),he.prototype.DB=it,he.prototype.DM=(1<<it)-1,he.prototype.DV=1<<it,he.prototype.FV=Math.pow(2,52),he.prototype.F1=52-it,he.prototype.F2=2*it-52;var dt,et,Wi="0123456789abcdefghijklmnopqrstuvwxyz",Bt=new Array;for(dt="0".charCodeAt(0),et=0;et<=9;++et)Bt[dt++]=et;for(dt="a".charCodeAt(0),et=10;et<36;++et)Bt[dt++]=et;for(dt="A".charCodeAt(0),et=10;et<36;++et)Bt[dt++]=et;function Ln(i){return Wi.charAt(i)}function Gi(i,e){return Bt[i.charCodeAt(e)]??-1}function on(i){var e=Je();return e.fromInt(i),e}function sn(i){var t,e=1;return 0!=(t=i>>>16)&&(i=t,e+=16),0!=(t=i>>8)&&(i=t,e+=8),0!=(t=i>>4)&&(i=t,e+=4),0!=(t=i>>2)&&(i=t,e+=2),0!=(t=i>>1)&&(i=t,e+=1),e}function gt(i){this.m=i,this.mp=i.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<i.DB-15)-1,this.mt2=2*i.t}function an(i){return ke.lW.from((new Li).random(i).toString(),"hex")}gt.prototype.convert=function yo(i){var e=Je();return i.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),i.s<0&&e.compareTo(he.ZERO)>0&&this.m.subTo(e,e),e},gt.prototype.revert=function wo(i){var e=Je();return i.copyTo(e),this.reduce(e),e},gt.prototype.reduce=function So(i){for(;i.t<=this.mt2;)i[i.t++]=0;for(var e=0;e<this.m.t;++e){var t=32767&i[e],r=t*this.mpl+((t*this.mph+(i[e]>>15)*this.mpl&this.um)<<15)&i.DM;for(i[t=e+this.m.t]+=this.m.am(0,r,i,e,0,this.m.t);i[t]>=i.DV;)i[t]-=i.DV,i[++t]++}i.clamp(),i.drShiftTo(this.m.t,i),i.compareTo(this.m)>=0&&i.subTo(this.m,i)},gt.prototype.mulTo=function bo(i,e,t){i.multiplyTo(e,t),this.reduce(t)},gt.prototype.sqrTo=function Ao(i,e){i.squareTo(e),this.reduce(e)},he.prototype.copyTo=function Yi(i){for(var e=this.t-1;e>=0;--e)i[e]=this[e];i.t=this.t,i.s=this.s},he.prototype.fromInt=function Zi(i){this.t=1,this.s=i<0?-1:0,i>0?this[0]=i:i<-1?this[0]=i+this.DV:this.t=0},he.prototype.fromString=function qi(i,e){var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}this.t=0,this.s=0;for(var r=i.length,o=!1,n=0;--r>=0;){var c=Gi(i,r);c<0?"-"==i.charAt(r)&&(o=!0):(o=!1,0==n?this[this.t++]=c:n+t>this.DB?(this[this.t-1]|=(c&(1<<this.DB-n)-1)<<n,this[this.t++]=c>>this.DB-n):this[this.t-1]|=c<<n,(n+=t)>=this.DB&&(n-=this.DB))}this.clamp(),o&&he.ZERO.subTo(this,this)},he.prototype.clamp=function Ji(){for(var i=this.s&this.DM;this.t>0&&this[this.t-1]==i;)--this.t},he.prototype.dlShiftTo=function to(i,e){var t;for(t=this.t-1;t>=0;--t)e[t+i]=this[t];for(t=i-1;t>=0;--t)e[t]=0;e.t=this.t+i,e.s=this.s},he.prototype.drShiftTo=function no(i,e){for(var t=i;t<this.t;++t)e[t-i]=this[t];e.t=Math.max(this.t-i,0),e.s=this.s},he.prototype.lShiftTo=function ro(i,e){var h,t=i%this.DB,r=this.DB-t,o=(1<<r)-1,n=Math.floor(i/this.DB),c=this.s<<t&this.DM;for(h=this.t-1;h>=0;--h)e[h+n+1]=this[h]>>r|c,c=(this[h]&o)<<t;for(h=n-1;h>=0;--h)e[h]=0;e[n]=c,e.t=this.t+n+1,e.s=this.s,e.clamp()},he.prototype.rShiftTo=function io(i,e){e.s=this.s;var t=Math.floor(i/this.DB);if(t>=this.t)e.t=0;else{var r=i%this.DB,o=this.DB-r,n=(1<<r)-1;e[0]=this[t]>>r;for(var c=t+1;c<this.t;++c)e[c-t-1]|=(this[c]&n)<<o,e[c-t]=this[c]>>r;r>0&&(e[this.t-t-1]|=(this.s&n)<<o),e.t=this.t-t,e.clamp()}},he.prototype.subTo=function oo(i,e){for(var t=0,r=0,o=Math.min(i.t,this.t);t<o;)r+=this[t]-i[t],e[t++]=r&this.DM,r>>=this.DB;if(i.t<this.t){for(r-=i.s;t<this.t;)r+=this[t],e[t++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;t<i.t;)r-=i[t],e[t++]=r&this.DM,r>>=this.DB;r-=i.s}e.s=r<0?-1:0,r<-1?e[t++]=this.DV+r:r>0&&(e[t++]=r),e.t=t,e.clamp()},he.prototype.multiplyTo=function so(i,e){var t=this.abs(),r=i.abs(),o=t.t;for(e.t=o+r.t;--o>=0;)e[o]=0;for(o=0;o<r.t;++o)e[o+t.t]=t.am(0,r[o],e,o,0,t.t);e.s=0,e.clamp(),this.s!=i.s&&he.ZERO.subTo(e,e)},he.prototype.squareTo=function ao(i){for(var e=this.abs(),t=i.t=2*e.t;--t>=0;)i[t]=0;for(t=0;t<e.t-1;++t){var r=e.am(t,e[t],i,2*t,0,1);(i[t+e.t]+=e.am(t+1,2*e[t],i,2*t+1,r,e.t-t-1))>=e.DV&&(i[t+e.t]-=e.DV,i[t+e.t+1]=1)}i.t>0&&(i[i.t-1]+=e.am(t,e[t],i,2*t,0,1)),i.s=0,i.clamp()},he.prototype.divRemTo=function uo(i,e,t){var r=i.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return e?.fromInt(0),void(null!=t&&this.copyTo(t));null==t&&(t=Je());var n=Je(),c=this.s,h=i.s,g=this.DB-sn(r[r.t-1]);g>0?(r.lShiftTo(g,n),o.lShiftTo(g,t)):(r.copyTo(n),o.copyTo(t));var u=n.t,d=n[u-1];if(0!=d){var w=d*(1<<this.F1)+(u>1?n[u-2]>>this.F2:0),b=this.FV/w,x=(1<<this.F1)/w,C=1<<this.F2,M=t.t,W=M-u,G=e??Je();for(n.dlShiftTo(W,G),t.compareTo(G)>=0&&(t[t.t++]=1,t.subTo(G,t)),he.ONE.dlShiftTo(u,G),G.subTo(n,n);n.t<u;)n[n.t++]=0;for(;--W>=0;){var $=t[--M]==d?this.DM:Math.floor(t[M]*b+(t[M-1]+C)*x);if((t[M]+=n.am(0,$,t,W,0,u))<$)for(n.dlShiftTo(W,G),t.subTo(G,t);t[M]<--$;)t.subTo(G,t)}null!=e&&(t.drShiftTo(u,e),c!=h&&he.ZERO.subTo(e,e)),t.t=u,t.clamp(),g>0&&t.rShiftTo(g,t),c<0&&he.ZERO.subTo(t,t)}}},he.prototype.invDigit=function fo(){if(this.t<1)return 0;var i=this[0];if(!(1&i))return 0;var e=3&i;return(e=(e=(e=(e=e*(2-(15&i)*e)&15)*(2-(255&i)*e)&255)*(2-((65535&i)*e&65535))&65535)*(2-i*e%this.DV)%this.DV)>0?this.DV-e:-e},he.prototype.addTo=function ho(i,e){for(var t=0,r=0,o=Math.min(i.t,this.t);t<o;)r+=this[t]+i[t],e[t++]=r&this.DM,r>>=this.DB;if(i.t<this.t){for(r+=i.s;t<this.t;)r+=this[t],e[t++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;t<i.t;)r+=i[t],e[t++]=r&this.DM,r>>=this.DB;r+=i.s}e.s=r<0?-1:0,r>0?e[t++]=r:r<-1&&(e[t++]=this.DV+r),e.t=t,e.clamp()},he.prototype.toString=function zi(i){if(this.s<0)return"-"+this.negate().toString(i);var e;if(16==i)e=4;else if(8==i)e=3;else if(2==i)e=1;else if(32==i)e=5;else{if(4!=i)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");e=2}var r,t=(1<<e)-1,o=!1,n="",c=this.t,h=this.DB-c*this.DB%e;if(c-- >0)for(h<this.DB&&(r=this[c]>>h)>0&&(o=!0,n=Ln(r));c>=0;)h<e?(r=(this[c]&(1<<h)-1)<<e-h,r|=this[--c]>>(h+=this.DB-e)):(r=this[c]>>(h-=e)&t,h<=0&&(h+=this.DB,--c)),r>0&&(o=!0),o&&(n+=Ln(r));return o?n:"0"},he.prototype.negate=function Qi(){var i=Je();return he.ZERO.subTo(this,i),i},he.prototype.abs=function Xi(){return this.s<0?this.negate():this},he.prototype.compareTo=function $i(i){var e=this.s-i.s;if(0!=e)return e;var t=this.t;if(0!=(e=t-i.t))return this.s<0?-e:e;for(;--t>=0;)if(0!=(e=this[t]-i[t]))return e;return 0},he.prototype.bitLength=function eo(){return this.t<=0?0:this.DB*(this.t-1)+sn(this[this.t-1]^this.s&this.DM)},he.prototype.mod=function co(i){var e=Je();return this.abs().divRemTo(i,null,e),this.s<0&&e.compareTo(he.ZERO)>0&&i.subTo(e,e),e},he.prototype.equals=function lo(i){return 0==this.compareTo(i)},he.prototype.add=function go(i){var e=Je();return this.addTo(i,e),e},he.prototype.subtract=function po(i){var e=Je();return this.subTo(i,e),e},he.prototype.multiply=function vo(i){var e=Je();return this.multiplyTo(i,e),e},he.prototype.divide=function mo(i){var e=Je();return this.divRemTo(i,e,null),e},he.prototype.modPow=function _o(i,e,t){var o,r=i.bitLength(),n=on(1),c=new gt(e);if(r<=0)return n;o=r<18?1:r<48?3:r<144?4:r<768?5:6;var h=new Array,g=3,u=o-1,d=(1<<o)-1;if(h[1]=c.convert(this),o>1){var w=Je();for(c.sqrTo(h[1],w);g<=d;)h[g]=Je(),c.mulTo(w,h[g-2],h[g]),g+=2}var x,W,b=i.t-1,C=!0,M=Je();for(r=sn(i[b])-1;b>=0;){for(r>=u?x=i[b]>>r-u&d:(x=(i[b]&(1<<r+1)-1)<<u-r,b>0&&(x|=i[b-1]>>this.DB+r-u)),g=o;!(1&x);)x>>=1,--g;if((r-=g)<0&&(r+=this.DB,--b),C)h[x].copyTo(n),C=!1;else{for(;g>1;)c.sqrTo(n,M),c.sqrTo(M,n),g-=2;g>0?c.sqrTo(n,M):(W=n,n=M,M=W),c.mulTo(M,h[x],n)}for(;b>=0&&!(i[b]&1<<r);)c.sqrTo(n,M),W=n,n=M,M=W,--r<0&&(r=this.DB-1,--b)}var G=c.revert(n);return t(null,G),G},he.ZERO=on(0),he.ONE=on(1);var Io=/^[89a-f]/i,Eo="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",pt=function(){function i(t){this.N=new Ke(Eo,16),this.g=new Ke("2",16),this.k=new Ke(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=ke.lW.from("Caldera Derived Key","utf8"),this.poolName=t}var e=i.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(r){var o=this;this.largeAValue?r(null,this.largeAValue):this.calculateA(this.smallAValue,function(n,c){n&&r(n,null),o.largeAValue=c,r(null,o.largeAValue)})},e.generateRandomSmallA=function(){var r=an(128).toString("hex");return new Ke(r,16)},e.generateRandomString=function(){return an(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(r,o,n){var c=this;this.randomPassword=this.generateRandomString();var g=this.hash(""+r+o+":"+this.randomPassword),u=an(16).toString("hex");this.SaltToHashDevices=this.padHex(new Ke(u,16)),this.g.modPow(new Ke(this.hexHash(this.SaltToHashDevices+g),16),this.N,function(d,w){d&&n(d,null),c.verifierDevices=c.padHex(w),n(null,null)})},e.calculateA=function(r,o){var n=this;this.g.modPow(r,this.N,function(c,h){c&&o(c,null),h.mod(n.N).equals(Ke.ZERO)&&o(new Error("Illegal paramater. A mod N cannot be 0."),null),o(null,h)})},e.calculateU=function(r,o){return this.UHexHash=this.hexHash(this.padHex(r)+this.padHex(o)),new Ke(this.UHexHash,16)},e.hash=function(r){var o=new ht.Sha256;o.update(r);var n=o.digestSync(),c=ke.lW.from(n).toString("hex");return new Array(64-c.length).join("0")+c},e.hexHash=function(r){return this.hash(ke.lW.from(r,"hex"))},e.computehkdf=function(r,o){var n=ke.lW.concat([this.infoBits,ke.lW.from(String.fromCharCode(1),"utf8")]),c=new ht.Sha256(o);c.update(r);var h=c.digestSync(),g=new ht.Sha256(h);return g.update(n),g.digestSync().slice(0,16)},e.getPasswordAuthenticationKey=function(r,o,n,c,h){var g=this;if(n.mod(this.N).equals(Ke.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Ke.ZERO))throw new Error("U cannot be zero.");var d=this.hash(""+this.poolName+r+":"+o),w=new Ke(this.hexHash(this.padHex(c)+d),16);this.calculateS(w,n,function(b,x){b&&h(b,null);var C=g.computehkdf(ke.lW.from(g.padHex(x),"hex"),ke.lW.from(g.padHex(g.UValue),"hex"));h(null,C)})},e.calculateS=function(r,o,n){var c=this;this.g.modPow(r,this.N,function(h,g){h&&n(h,null),o.subtract(c.k.multiply(g)).modPow(c.smallAValue.add(c.UValue.multiply(r)),c.N,function(d,w){d&&n(d,null),n(null,w.mod(c.N))})})},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},e.padHex=function(r){if(!(r instanceof Ke))throw new Error("Not a BigInteger");var o=r.compareTo(Ke.ZERO)<0,n=r.abs().toString(16);if(n=Io.test(n=n.length%2!=0?"0"+n:n)?"00"+n:n,o){var c=n.split("").map(function(g){var u=15&~parseInt(g,16);return"0123456789ABCDEF".charAt(u)}).join("");(n=new Ke(c,16).add(Ke.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},i}(),jn=function(){function i(t){this.jwtToken=t||"",this.payload=this.decodePayload()}var e=i.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var r=this.jwtToken.split(".")[1];try{return JSON.parse(ke.lW.from(r,"base64").toString("utf8"))}catch{return{}}},i}();function un(i,e){return(un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(i,e)}var cn=function(i){function e(t){return i.call(this,(void 0===t?{}:t).AccessToken||"")||this}return function Uo(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,un(i,e)}(e,i),e}(jn);function fn(i,e){return(fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(i,e)}var ln=function(i){function e(t){return i.call(this,(void 0===t?{}:t).IdToken||"")||this}return function xo(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,fn(i,e)}(e,i),e}(jn),hn=function(){function i(t){this.token=(void 0===t?{}:t).RefreshToken||""}return i.prototype.getToken=function(){return this.token},i}(),Kn_userAgent="aws-amplify/5.0.4",Kn_isReactNative=typeof navigator<"u"&&"ReactNative"===navigator.product,dn=function(){function i(t){var r=void 0===t?{}:t,o=r.IdToken,n=r.RefreshToken,c=r.AccessToken,h=r.ClockDrift;if(null==c||null==o)throw new Error("Id token and Access Token must be present.");this.idToken=o,this.refreshToken=n,this.accessToken=c,this.clockDrift=void 0===h?this.calculateClockDrift():h}var e=i.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},e.isValid=function(){var o=Math.floor(new Date/1e3)-this.clockDrift;return o<this.accessToken.getExpiration()&&o<this.idToken.getExpiration()},i}(),Do=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Fo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hn=function(){function i(){}return i.prototype.getNowString=function(){var r=new Date,o=Fo[r.getUTCDay()],n=Do[r.getUTCMonth()],c=r.getUTCDate(),h=r.getUTCHours();h<10&&(h="0"+h);var g=r.getUTCMinutes();g<10&&(g="0"+g);var u=r.getUTCSeconds();return u<10&&(u="0"+u),o+" "+n+" "+c+" "+h+":"+g+":"+u+" UTC "+r.getUTCFullYear()},i}(),vt=function(){function i(t){var r=void 0===t?{}:t,n=r.Value;this.Name=r.Name||"",this.Value=n||""}var e=i.prototype;return e.getValue=function(){return this.Value},e.setValue=function(r){return this.Value=r,this},e.getName=function(){return this.Name},e.setName=function(r){return this.Name=r,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},i}(),ft={},Oo=function(){function i(){}return i.setItem=function(t,r){return ft[t]=r,ft[t]},i.getItem=function(t){return Object.prototype.hasOwnProperty.call(ft,t)?ft[t]:void 0},i.removeItem=function(t){return delete ft[t]},i.clear=function(){return ft={}},i}(),Vn=function(){function i(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=Oo}}return i.prototype.getStorage=function(){return this.storageWindow},i}(),Wn=typeof navigator<"u"?Kn_isReactNative?"react-native":navigator.userAgent:"nodejs",gn=function(){function i(t){if(null==t||null==t.Username||null==t.Pool)throw new Error("Username and Pool information are required.");this.username=t.Username||"",this.pool=t.Pool,this.Session=null,this.client=t.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=t.Storage||(new Vn).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=i.prototype;return e.setSignInUserSession=function(r){this.clearCachedUserData(),this.signInUserSession=r,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(r){this.authenticationFlowType=r},e.initiateAuth=function(r,o){var n=this,c=r.getAuthParameters();c.USERNAME=this.username;var h=0!==Object.keys(r.getValidationData()).length?r.getValidationData():r.getClientMetadata(),g={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:c,ClientMetadata:h};this.getUserContextData()&&(g.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",g,function(u,d){if(u)return o.onFailure(u);var b=d.ChallengeParameters;return"CUSTOM_CHALLENGE"===d.ChallengeName?(n.Session=d.Session,o.customChallenge(b)):(n.signInUserSession=n.getCognitoUserSession(d.AuthenticationResult),n.cacheTokens(),o.onSuccess(n.signInUserSession))})},e.authenticateUser=function(r,o){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(r,o):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(r,o):o.onFailure(new Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(r,o){var g,u,n=this,c=new pt(this.pool.getUserPoolName()),h=new Hn,d={};null!=this.deviceKey&&(d.DEVICE_KEY=this.deviceKey),d.USERNAME=this.username,c.getLargeAValue(function(w,b){w&&o.onFailure(w),d.SRP_A=b.toString(16),"CUSTOM_AUTH"===n.authenticationFlowType&&(d.CHALLENGE_NAME="SRP_A");var x=0!==Object.keys(r.getValidationData()).length?r.getValidationData():r.getClientMetadata(),C={AuthFlow:n.authenticationFlowType,ClientId:n.pool.getClientId(),AuthParameters:d,ClientMetadata:x};n.getUserContextData(n.username)&&(C.UserContextData=n.getUserContextData(n.username)),n.client.request("InitiateAuth",C,function(M,W){if(M)return o.onFailure(M);var G=W.ChallengeParameters;n.username=G.USER_ID_FOR_SRP,n.userDataKey=n.keyPrefix+"."+n.username+".userData",g=new Ke(G.SRP_B,16),u=new Ke(G.SALT,16),n.getCachedDeviceKeyAndPassword(),c.getPasswordAuthenticationKey(n.username,r.getPassword(),g,u,function($,ce){$&&o.onFailure($);var ge=h.getNowString(),Be=ke.lW.concat([ke.lW.from(n.pool.getUserPoolName(),"utf8"),ke.lW.from(n.username,"utf8"),ke.lW.from(G.SECRET_BLOCK,"base64"),ke.lW.from(ge,"utf8")]),Le=new ht.Sha256(ce);Le.update(Be);var Me=Le.digestSync(),Ve=ke.lW.from(Me).toString("base64"),tt={};tt.USERNAME=n.username,tt.PASSWORD_CLAIM_SECRET_BLOCK=G.SECRET_BLOCK,tt.TIMESTAMP=ge,tt.PASSWORD_CLAIM_SIGNATURE=Ve,null!=n.deviceKey&&(tt.DEVICE_KEY=n.deviceKey);var Vt={ChallengeName:"PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:tt,Session:W.Session,ClientMetadata:x};n.getUserContextData()&&(Vt.UserContextData=n.getUserContextData()),function Wt(Gt,zn){return n.client.request("RespondToAuthChallenge",Gt,function(Yt,ms){return Yt&&"ResourceNotFoundException"===Yt.code&&-1!==Yt.message.toLowerCase().indexOf("device")?(tt.DEVICE_KEY=null,n.deviceKey=null,n.randomPassword=null,n.deviceGroupKey=null,n.clearCachedDeviceKeyAndPassword(),Wt(Gt,zn)):zn(Yt,ms)})}(Vt,function(Wt,Gt){return Wt?o.onFailure(Wt):n.authenticateUserInternal(Gt,c,o)})})})})},e.authenticateUserPlainUsernamePassword=function(r,o){var n=this,c={};if(c.USERNAME=this.username,c.PASSWORD=r.getPassword(),c.PASSWORD){var h=new pt(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(c.DEVICE_KEY=this.deviceKey);var g=0!==Object.keys(r.getValidationData()).length?r.getValidationData():r.getClientMetadata(),u={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:c,ClientMetadata:g};this.getUserContextData(this.username)&&(u.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",u,function(d,w){return d?o.onFailure(d):n.authenticateUserInternal(w,h,o)})}else o.onFailure(new Error("PASSWORD parameter is required"))},e.authenticateUserInternal=function(r,o,n){var c=this,h=r.ChallengeName,g=r.ChallengeParameters;if("SMS_MFA"===h)return this.Session=r.Session,n.mfaRequired(h,g);if("SELECT_MFA_TYPE"===h)return this.Session=r.Session,n.selectMFAType(h,g);if("MFA_SETUP"===h)return this.Session=r.Session,n.mfaSetup(h,g);if("SOFTWARE_TOKEN_MFA"===h)return this.Session=r.Session,n.totpRequired(h,g);if("CUSTOM_CHALLENGE"===h)return this.Session=r.Session,n.customChallenge(g);if("NEW_PASSWORD_REQUIRED"===h){this.Session=r.Session;var u=null,d=null,w=[],b=o.getNewPasswordRequiredChallengeUserAttributePrefix();if(g&&(u=JSON.parse(r.ChallengeParameters.userAttributes),d=JSON.parse(r.ChallengeParameters.requiredAttributes)),d)for(var x=0;x<d.length;x++)w[x]=d[x].substr(b.length);return n.newPasswordRequired(u,w)}if("DEVICE_SRP_AUTH"===h)return this.Session=r.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(r.AuthenticationResult),this.challengeName=h,this.cacheTokens();var C=r.AuthenticationResult.NewDeviceMetadata;if(null==C)return n.onSuccess(this.signInUserSession);o.generateHashDevice(r.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,r.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(M){if(M)return n.onFailure(M);var W={Salt:ke.lW.from(o.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ke.lW.from(o.getVerifierDevices(),"hex").toString("base64")};c.verifierDevices=W.PasswordVerifier,c.deviceGroupKey=C.DeviceGroupKey,c.randomPassword=o.getRandomPassword(),c.client.request("ConfirmDevice",{DeviceKey:C.DeviceKey,AccessToken:c.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:W,DeviceName:Wn},function(G,$){return G?n.onFailure(G):(c.deviceKey=r.AuthenticationResult.NewDeviceMetadata.DeviceKey,c.cacheDeviceKeyAndPassword(),!0===$.UserConfirmationNecessary?n.onSuccess(c.signInUserSession,$.UserConfirmationNecessary):n.onSuccess(c.signInUserSession))})})},e.completeNewPasswordChallenge=function(r,o,n,c){var h=this;if(!r)return n.onFailure(new Error("New password is required."));var g=new pt(this.pool.getUserPoolName()),u=g.getNewPasswordRequiredChallengeUserAttributePrefix(),d={};o&&Object.keys(o).forEach(function(b){d[u+b]=o[b]}),d.NEW_PASSWORD=r,d.USERNAME=this.username;var w={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:d,Session:this.Session,ClientMetadata:c};this.getUserContextData()&&(w.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",w,function(b,x){return b?n.onFailure(b):h.authenticateUserInternal(x,g,n)})},e.getDeviceResponse=function(r,o){var n=this,c=new pt(this.deviceGroupKey),h=new Hn,g={};g.USERNAME=this.username,g.DEVICE_KEY=this.deviceKey,c.getLargeAValue(function(u,d){u&&r.onFailure(u),g.SRP_A=d.toString(16);var w={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:g,ClientMetadata:o,Session:n.Session};n.getUserContextData()&&(w.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",w,function(b,x){if(b)return r.onFailure(b);var C=x.ChallengeParameters,M=new Ke(C.SRP_B,16),W=new Ke(C.SALT,16);c.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,M,W,function(G,$){if(G)return r.onFailure(G);var ce=h.getNowString(),ge=ke.lW.concat([ke.lW.from(n.deviceGroupKey,"utf8"),ke.lW.from(n.deviceKey,"utf8"),ke.lW.from(C.SECRET_BLOCK,"base64"),ke.lW.from(ce,"utf8")]),Be=new ht.Sha256($);Be.update(ge);var Le=Be.digestSync(),Me=ke.lW.from(Le).toString("base64"),Ve={};Ve.USERNAME=n.username,Ve.PASSWORD_CLAIM_SECRET_BLOCK=C.SECRET_BLOCK,Ve.TIMESTAMP=ce,Ve.PASSWORD_CLAIM_SIGNATURE=Me,Ve.DEVICE_KEY=n.deviceKey;var tt={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:Ve,Session:x.Session};n.getUserContextData()&&(tt.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",tt,function(Ht,Vt){return Ht?r.onFailure(Ht):(n.signInUserSession=n.getCognitoUserSession(Vt.AuthenticationResult),n.cacheTokens(),r.onSuccess(n.signInUserSession))})})})})},e.confirmRegistration=function(r,o,n,c){var h={ClientId:this.pool.getClientId(),ConfirmationCode:r,Username:this.username,ForceAliasCreation:o,ClientMetadata:c};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",h,function(g){return g?n(g,null):n(null,"SUCCESS")})},e.sendCustomChallengeAnswer=function(r,o,n){var c=this,h={};h.USERNAME=this.username,h.ANSWER=r;var g=new pt(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(h.DEVICE_KEY=this.deviceKey);var u={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:h,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(d,w){return d?o.onFailure(d):c.authenticateUserInternal(w,g,o)})},e.sendMFACode=function(r,o,n,c){var h=this,g={};g.USERNAME=this.username,g.SMS_MFA_CODE=r;var u=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===u&&(g.SOFTWARE_TOKEN_MFA_CODE=r),null!=this.deviceKey&&(g.DEVICE_KEY=this.deviceKey);var d={ChallengeName:u,ChallengeResponses:g,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:c};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",d,function(w,b){if(w)return o.onFailure(w);if("DEVICE_SRP_AUTH"!==b.ChallengeName){if(h.signInUserSession=h.getCognitoUserSession(b.AuthenticationResult),h.cacheTokens(),null==b.AuthenticationResult.NewDeviceMetadata)return o.onSuccess(h.signInUserSession);var C=new pt(h.pool.getUserPoolName());C.generateHashDevice(b.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,b.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(M){if(M)return o.onFailure(M);var W={Salt:ke.lW.from(C.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ke.lW.from(C.getVerifierDevices(),"hex").toString("base64")};h.verifierDevices=W.PasswordVerifier,h.deviceGroupKey=b.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,h.randomPassword=C.getRandomPassword(),h.client.request("ConfirmDevice",{DeviceKey:b.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:h.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:W,DeviceName:Wn},function(G,$){return G?o.onFailure(G):(h.deviceKey=b.AuthenticationResult.NewDeviceMetadata.DeviceKey,h.cacheDeviceKeyAndPassword(),!0===$.UserConfirmationNecessary?o.onSuccess(h.signInUserSession,$.UserConfirmationNecessary):o.onSuccess(h.signInUserSession))})})}else h.getDeviceResponse(o)})},e.changePassword=function(r,o,n,c){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:r,ProposedPassword:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:c},function(h){return h?n(h,null):n(null,"SUCCESS")})},e.enableMFA=function(r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);var o=[];o.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?r(c,null):r(null,"SUCCESS")})},e.setUserMfaPreference=function(r,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:r,SoftwareTokenMfaSettings:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?n(c,null):n(null,"SUCCESS")})},e.disableMFA=function(r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?r(n,null):r(null,"SUCCESS")})},e.deleteUser=function(r,o){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(c){return c?r(c,null):(n.clearCachedUser(),r(null,"SUCCESS"))})},e.updateAttributes=function(r,o,n){var c=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:r,ClientMetadata:n},function(h,g){return h?o(h,null):c.getUserData(function(){return o(null,"SUCCESS",g)},{bypassCache:!0})})},e.getUserAttributes=function(r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,n){if(o)return r(o,null);for(var c=[],h=0;h<n.UserAttributes.length;h++){var u=new vt({Name:n.UserAttributes[h].Name,Value:n.UserAttributes[h].Value});c.push(u)}return r(null,c)})},e.getMFAOptions=function(r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,n){return o?r(o,null):r(null,n.MFAOptions)})},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(r){var o=this;return void 0===r&&(r={}),new Promise(function(n){var c=o.signInUserSession.getRefreshToken();c&&c.getToken()?o.refreshSession(c,n,r.clientMetadata):n()})},e.getUserData=function(r,o){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),r(new Error("User is not authenticated"),null);var c=this.getUserDataFromCache();if(c)if(this.isFetchUserDataAndTokenRequired(o))this.fetchUserData().then(function(h){return n.refreshSessionIfPossible(o).then(function(){return h})}).then(function(h){return r(null,h)}).catch(r);else try{return void r(null,JSON.parse(c))}catch(h){return this.clearCachedUserData(),void r(h,null)}else this.fetchUserData().then(function(h){r(null,h)}).catch(r)},e.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},e.isFetchUserDataAndTokenRequired=function(r){var n=(r||{}).bypassCache;return void 0!==n&&n},e.fetchUserData=function(){var r=this;return this.createGetUserRequest().then(function(o){return r.cacheUserData(o),o})},e.deleteAttributes=function(r,o){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?o(c,null):n.getUserData(function(){return o(null,"SUCCESS")},{bypassCache:!0})})},e.resendConfirmationCode=function(r,o){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:o};this.client.request("ResendConfirmationCode",n,function(c,h){return c?r(c,null):r(null,h)})},e.getSession=function(r,o){if(void 0===o&&(o={}),null==this.username)return r(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return r(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,c=n+".idToken",h=n+".accessToken",g=n+".refreshToken",u=n+".clockDrift";if(this.storage.getItem(c)){var d=new ln({IdToken:this.storage.getItem(c)}),w=new cn({AccessToken:this.storage.getItem(h)}),b=new hn({RefreshToken:this.storage.getItem(g)}),x=parseInt(this.storage.getItem(u),0)||0,M=new dn({IdToken:d,AccessToken:w,RefreshToken:b,ClockDrift:x});if(M.isValid())return this.signInUserSession=M,r(null,this.signInUserSession);if(!b.getToken())return r(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(b,r,o.clientMetadata)}else r(new Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(r,o,n){var c=this,h=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(o):o,g={};g.REFRESH_TOKEN=r.getToken();var u="CognitoIdentityServiceProvider."+this.pool.getClientId(),d=u+".LastAuthUser";this.storage.getItem(d)&&(this.username=this.storage.getItem(d),this.deviceKey=this.storage.getItem(u+"."+this.username+".deviceKey"),g.DEVICE_KEY=this.deviceKey);var b={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:g,ClientMetadata:n};this.getUserContextData()&&(b.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",b,function(x,C){if(x)return"NotAuthorizedException"===x.code&&c.clearCachedUser(),h(x,null);if(C){var M=C.AuthenticationResult;return Object.prototype.hasOwnProperty.call(M,"RefreshToken")||(M.RefreshToken=r.getToken()),c.signInUserSession=c.getCognitoUserSession(M),c.cacheTokens(),h(null,c.signInUserSession)}})},e.cacheTokens=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId(),n=r+"."+this.username+".accessToken",c=r+"."+this.username+".refreshToken",h=r+"."+this.username+".clockDrift",g=r+".LastAuthUser";this.storage.setItem(r+"."+this.username+".idToken",this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(c,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(h,""+this.signInUserSession.getClockDrift()),this.storage.setItem(g,this.username)},e.cacheUserData=function(r){this.storage.setItem(this.userDataKey,JSON.stringify(r))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=r+".randomPasswordKey",c=r+".deviceGroupKey";this.storage.setItem(r+".deviceKey",this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(c,this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,o=r+".deviceKey",n=r+".randomPasswordKey",c=r+".deviceGroupKey";this.storage.getItem(o)&&(this.deviceKey=this.storage.getItem(o),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(c))},e.clearCachedDeviceKeyAndPassword=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=r+".randomPasswordKey",c=r+".deviceGroupKey";this.storage.removeItem(r+".deviceKey"),this.storage.removeItem(n),this.storage.removeItem(c)},e.clearCachedTokens=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId(),n=r+"."+this.username+".accessToken",c=r+"."+this.username+".refreshToken",h=r+".LastAuthUser",g=r+"."+this.username+".clockDrift";this.storage.removeItem(r+"."+this.username+".idToken"),this.storage.removeItem(n),this.storage.removeItem(c),this.storage.removeItem(h),this.storage.removeItem(g)},e.getCognitoUserSession=function(r){var o=new ln(r),n=new cn(r),c=new hn(r);return new dn({IdToken:o,AccessToken:n,RefreshToken:c})},e.forgotPassword=function(r,o){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:o};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,function(c,h){return c?r.onFailure(c):"function"==typeof r.inputVerificationCode?r.inputVerificationCode(h):r.onSuccess(h)})},e.confirmPassword=function(r,o,n,c){var h={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:r,Password:o,ClientMetadata:c};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",h,function(g){return g?n.onFailure(g):n.onSuccess("SUCCESS")})},e.getAttributeVerificationCode=function(r,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(c,h){return c?o.onFailure(c):"function"==typeof o.inputVerificationCode?o.inputVerificationCode(h):o.onSuccess("SUCCESS")})},e.verifyAttribute=function(r,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:r,Code:o,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(c){return c?n.onFailure(c):n.onSuccess("SUCCESS")})},e.getDevice=function(r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(o,n){return o?r.onFailure(o):r.onSuccess(n)})},e.forgetSpecificDevice=function(r,o){if(null==this.signInUserSession||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:r},function(n){return n?o.onFailure(n):o.onSuccess("SUCCESS")})},e.forgetDevice=function(r){var o=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:r.onFailure,onSuccess:function(c){return o.deviceKey=null,o.deviceGroupKey=null,o.randomPassword=null,o.clearCachedDeviceKeyAndPassword(),r.onSuccess(c)}})},e.setDeviceStatusRemembered=function(r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(o){return o?r.onFailure(o):r.onSuccess("SUCCESS")})},e.setDeviceStatusNotRemembered=function(r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(o){return o?r.onFailure(o):r.onSuccess("SUCCESS")})},e.listDevices=function(r,o,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var c={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:r};o&&(c.PaginationToken=o),this.client.request("ListDevices",c,function(h,g){return h?n.onFailure(h):n.onSuccess(g)})},e.globalSignOut=function(r){var o=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?r.onFailure(n):(o.clearCachedUser(),r.onSuccess("SUCCESS"))})},e.signOut=function(r){var o=this;r&&"function"==typeof r?this.getSession(function(n,c){if(n)return r(n);o.revokeTokens(function(h){o.cleanClientData(),r(h)})}):this.cleanClientData()},e.revokeTokens=function(r){if(void 0===r&&(r=function(){}),"function"!=typeof r)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return r(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return r(new Error("No Access token available"));var h=this.signInUserSession.getRefreshToken().getToken(),g=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(g)&&h)return this.revokeToken({token:h,callback:r});r()},e.isSessionRevocable=function(r){if(r&&"function"==typeof r.decodePayload)try{return!!r.decodePayload().origin_jti}catch{}return!1},e.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},e.revokeToken=function(r){var n=r.callback;this.client.requestWithRetry("RevokeToken",{Token:r.token,ClientId:this.pool.getClientId()},function(c){if(c)return n(c);n()})},e.sendMFASelectionAnswer=function(r,o){var n=this,c={};c.USERNAME=this.username,c.ANSWER=r;var h={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",h,function(g,u){return g?o.onFailure(g):(n.Session=u.Session,"SMS_MFA"===r?o.mfaRequired(u.ChallengeName,u.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===r?o.totpRequired(u.ChallengeName,u.ChallengeParameters):void 0)})},e.getUserContextData=function(){return this.pool.getUserContextData(this.username)},e.associateSoftwareToken=function(r){var o=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n,c){return n?r.onFailure(n):r.associateSecretCode(c.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(n,c){return n?r.onFailure(n):(o.Session=c.Session,r.associateSecretCode(c.SecretCode))})},e.verifySoftwareToken=function(r,o,n){var c=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:r,FriendlyDeviceName:o},function(h,g){return h?n.onFailure(h):n.onSuccess(g)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:r,FriendlyDeviceName:o},function(h,g){if(h)return n.onFailure(h);c.Session=g.Session;var u={};u.USERNAME=c.username;var d={ChallengeName:"MFA_SETUP",ClientId:c.pool.getClientId(),ChallengeResponses:u,Session:c.Session};c.getUserContextData()&&(d.UserContextData=c.getUserContextData()),c.client.request("RespondToAuthChallenge",d,function(w,b){return w?n.onFailure(w):(c.signInUserSession=c.getCognitoUserSession(b.AuthenticationResult),c.cacheTokens(),n.onSuccess(c.signInUserSession))})})},i}();function ze(){}ze.prototype.userAgent=Kn_userAgent;var No=function(){ze.category="auth"},Gn=function(e){ze.framework=e};function Lt(i){var e="function"==typeof Map?new Map:void 0;return Lt=function(r){if(null===r||!function jo(i){return-1!==Function.toString.call(i).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return jt(r,arguments,pn(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),At(o,r)},Lt(i)}function jt(i,e,t){return(jt=function Lo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(o,n,c){var h=[null];h.push.apply(h,n);var u=new(Function.bind.apply(o,h));return c&&At(u,c.prototype),u}).apply(null,arguments)}function At(i,e){return(At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r})(i,e)}function pn(i){return(pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(i)}var Ko=function(i){function e(t,r,o,n){var c;return(c=i.call(this,t)||this).code=r,c.name=o,c.statusCode=n,c}return function Yn(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,At(i,e)}(e,i),e}(Lt(Error)),Ho=function(){function i(t,r,o){this.endpoint=r||"https://cognito-idp."+t+".amazonaws.com/";var c=(o||{}).credentials;this.fetchOptions=c?{credentials:c}:{}}var e=i.prototype;return e.promisifyRequest=function(r,o){var n=this;return new Promise(function(c,h){n.request(r,o,function(g,u){g?h(new Ko(g.message,g.code,g.name,g.statusCode)):c(u)})})},e.requestWithRetry=function(r,o,n){var c=this;(function Yo(i,e,t){return void 0===t&&(t=Go),Zn(i,e,function Wo(i){return function(r){var o=100*Math.pow(2,r)+100*Math.random();return!(o>i)&&o}}(t))})(function(g){return new Promise(function(u,d){c.request(r,g,function(w,b){w?d(w):u(b)})})},[o],5e3).then(function(g){return n(null,g)}).catch(function(g){return n(g)})},e.request=function(r,o,n){var g,h=Object.assign({},this.fetchOptions,{headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+r,"X-Amz-User-Agent":ze.prototype.userAgent+(ze.category?" "+ze.category:"")+(ze.framework?" framework/"+ze.framework:""),"Cache-Control":"no-store"},method:"POST",mode:"cors",body:JSON.stringify(o)});fetch(this.endpoint,h).then(function(d){return g=d,d},function(d){throw d instanceof TypeError?new Error("Network error"):d}).then(function(d){return d.json().catch(function(){return{}})}).then(function(d){if(g.ok)return n(null,d);var w=(d.__type||d.code).split("#").pop(),b=new Error(d.message||d.Message||null);return b.name=w,b.code=w,n(b)}).catch(function(d){if(g&&g.headers&&g.headers.get("x-amzn-errortype"))try{var w=g.headers.get("x-amzn-errortype").split(":")[0],b=new Error(g.status?g.status.toString():null);return b.code=w,b.name=w,b.statusCode=g.status,n(b)}catch{return n(d)}else d instanceof Error&&"Network error"===d.message&&(d.code="NetworkError");return n(d)})},i}(),Kt={debug:function(){}},Vo=(Error,function(e){return e&&e.nonRetryable});function Zn(i,e,t,r){if(void 0===r&&(r=1),"function"!=typeof i)throw Error("functionToRetry must be a function");return Kt.debug(i.name+" attempt #"+r+" with args: "+JSON.stringify(e)),i.apply(void 0,e).catch(function(o){if(Kt.debug("error on "+i.name,o),Vo(o))throw Kt.debug(i.name+" non retryable error",o),o;var n=t(r,e,o);if(Kt.debug(i.name+" retrying in "+n+" ms"),!1!==n)return new Promise(function(c){return setTimeout(c,n)}).then(function(){return Zn(i,e,t,r+1)});throw o})}var Go=3e5,Zo=55,qo=function(){function i(t,r){var o=t||{},n=o.UserPoolId,c=o.ClientId,h=o.endpoint,g=o.fetchOptions,u=o.AdvancedSecurityDataCollectionFlag;if(!n||!c)throw new Error("Both UserPoolId and ClientId are required.");if(n.length>Zo||!/^[\w-]+_[0-9a-zA-Z]+$/.test(n))throw new Error("Invalid UserPoolId format.");var d=n.split("_")[0];this.userPoolId=n,this.clientId=c,this.client=new Ho(d,h,g),this.advancedSecurityDataCollectionFlag=!1!==u,this.storage=t.Storage||(new Vn).getStorage(),r&&(this.wrapRefreshSessionCallback=r)}var e=i.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},e.getClientId=function(){return this.clientId},e.signUp=function(r,o,n,c,h,g){var u=this,d={ClientId:this.clientId,Username:r,Password:o,UserAttributes:n,ValidationData:c,ClientMetadata:g};this.getUserContextData(r)&&(d.UserContextData=this.getUserContextData(r)),this.client.request("SignUp",d,function(w,b){if(w)return h(w,null);var C={user:new gn({Username:r,Pool:u,Storage:u.storage}),userConfirmed:b.UserConfirmed,userSub:b.UserSub,codeDeliveryDetails:b.CodeDeliveryDetails};return h(null,C)})},e.getCurrentUser=function(){var o=this.storage.getItem("CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser");return o?new gn({Username:o,Pool:this,Storage:this.storage}):null},e.getUserContextData=function(r){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var o=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=o.getData(r,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},i}(),bt=I(7355),Jo=function(){function i(t){if(void 0===t&&(t={}),t.domain&&(this.domain=t.domain),this.path=t.path?t.path:"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?t.expires:365,this.secure=!Object.prototype.hasOwnProperty.call(t,"secure")||t.secure,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!["strict","lax","none"].includes(t.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===t.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=t.sameSite}else this.sameSite=null}var e=i.prototype;return e.setItem=function(r,o){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),bt.set(r,o,n),bt.get(r)},e.getItem=function(r){return bt.get(r)},e.removeItem=function(r){var o={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(o.sameSite=this.sameSite),bt.remove(r,o)},e.clear=function(){for(var r=bt.get(),o=Object.keys(r).length,n=0;n<o;++n)this.removeItem(Object.keys(r)[n]);return{}},i}(),ot=I(160),Qo=function(i){var e=window.open(i,"_self");return e?Promise.resolve(e):Promise.reject()},ns=I(3894),os=(typeof Symbol<"u"&&"function"==typeof Symbol.for&&Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"),typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default"),vn=function(i,e,t){ye.dispatch("auth",{event:i,data:e,message:t},"Auth",os)},mt=new me.k("OAuth"),ss=function(){function i(e){var t=e.config,r=e.cognitoClientId,o=e.scopes,n=void 0===o?[]:o;if(this._urlOpener=t.urlOpener||Qo,this._config=t,this._cognitoClientId=r,!this.isValidScopes(n))throw Error("scopes must be a String Array");this._scopes=n}return i.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(t){return"string"==typeof t})},i.prototype.oauthSignIn=function(e,t,r,o,n,c){void 0===e&&(e="code"),void 0===n&&(n=_.Cognito);var h=this._generateState(32),g=c?h+"-"+function ki(i){return i.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}(c):h;!function(i){window.sessionStorage.setItem("oauth_state",i)}(g);var u=this._generateRandom(128);!function(i){window.sessionStorage.setItem("ouath_pkce_key",i)}(u);var d=this._generateChallenge(u),b=this._scopes.join(" "),C="https://"+t+"/oauth2/authorize?"+Object.entries(N(N({redirect_uri:r,response_type:e,client_id:o,identity_provider:n,scope:b,state:g},"code"===e?{code_challenge:d}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(M){var W=k(M,2),$=W[1];return encodeURIComponent(W[0])+"="+encodeURIComponent($)}).join("&");mt.debug("Redirecting to "+C),this._urlOpener(C,r)},i.prototype._handleCodeFlow=function(e){return p(this,void 0,void 0,function(){var t,r,o,n,c,h,g,u,d,b,x,C,M,W,G;return T(this,function($){switch($.label){case 0:return t=((0,ot.Qc)(e).query||"").split("&").map(function(ce){return ce.split("=")}).reduce(function(ce,ge){var Be,Le=k(ge,2),Me=Le[0],Ve=Le[1];return N(N({},ce),((Be={})[Me]=Ve,Be))},{code:void 0}).code,r=(0,ot.Qc)(e).pathname||"/",o=(0,ot.Qc)(this._config.redirectSignIn).pathname||"/",t&&r===o?(vn("codeFlow",{},"Retrieving tokens from "+(n="https://"+this._config.domain+"/oauth2/token")),c=z(this._config)?this._cognitoClientId:this._config.clientID,h=z(this._config)?this._config.redirectSignIn:this._config.redirectUri,g=function(){var i=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),i}(),u=N({grant_type:"authorization_code",code:t,client_id:c,redirect_uri:h},g?{code_verifier:g}:{}),mt.debug("Calling token endpoint: "+n+" with",u),d=Object.entries(u).map(function(ce){var ge=k(ce,2),Le=ge[1];return encodeURIComponent(ge[0])+"="+encodeURIComponent(Le)}).join("&"),[4,fetch(n,{method:"POST",headers:(G={"Content-Type":"application/x-www-form-urlencoded"},G["x-amz-user-agent"]=en({category:Ut.Auth,action:xt.FederatedSignIn}),G),body:d})]):[2];case 1:return[4,$.sent().json()];case 2:if(b=$.sent(),x=b.access_token,C=b.refresh_token,M=b.id_token,W=b.error)throw new Error(W);return[2,{accessToken:x,refreshToken:C,idToken:M}]}})})},i.prototype._handleImplicitFlow=function(e){return p(this,void 0,void 0,function(){var t,r,o;return T(this,function(n){return t=((0,ot.Qc)(e).hash||"#").substr(1).split("&").map(function(c){return c.split("=")}).reduce(function(c,h){var g,u=k(h,2),d=u[0],w=u[1];return N(N({},c),((g={})[d]=w,g))},{id_token:void 0,access_token:void 0}),r=t.id_token,o=t.access_token,vn("implicitFlow",{},"Got tokens from "+e),mt.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:o,idToken:r,refreshToken:null}]})})},i.prototype.handleAuthResponse=function(e){return p(this,void 0,void 0,function(){var t,o,n,c,h,g;return T(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?N(N({},((0,ot.Qc)(e).hash||"#").substr(1).split("&").map(function(d){return d.split("=")}).reduce(function(d,w){var b=k(w,2);return d[b[0]]=b[1],d},{})),((0,ot.Qc)(e).query||"").split("&").map(function(d){return d.split("=")}).reduce(function(d,w){var b=k(w,2);return d[b[0]]=b[1],d},{})):{},o=t.error_description,t.error)throw new Error(o);return n=this._validateState(t),mt.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(c=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,N.apply(void 0,[N.apply(void 0,c.concat([u.sent()])),{state:n}])];case 2:return h=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,N.apply(void 0,[N.apply(void 0,h.concat([u.sent()])),{state:n}])];case 4:return[3,6];case 5:throw g=u.sent(),mt.debug("Error handling auth response.",g),g;case 6:return[2]}})})},i.prototype._validateState=function(e){if(e){var t=function(){var i=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),i}(),r=e.state;if(t&&t!==r)throw new Error("Invalid state in OAuth flow");return r}},i.prototype.signOut=function(){return p(this,void 0,void 0,function(){var e,t,r;return T(this,function(o){return e="https://"+this._config.domain+"/logout?",t=z(this._config)?this._cognitoClientId:this._config.oauth.clientID,r=z(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(r)}).map(function(n){var c=k(n,2);return c[0]+"="+c[1]}).join("&"),vn("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),mt.debug("Signing out from "+e),[2,this._urlOpener(e,r)]})})},i.prototype._generateState=function(e){for(var t="",r=e,o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";r>0;--r)t+=o[Math.round(Math.random()*(o.length-1))];return t},i.prototype._generateChallenge=function(e){var t=new ht.Sha256;t.update(e);var r=t.digestSync(),o=ns.lW.from(r).toString("base64");return this._base64URL(o)},i.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},i.prototype._generateRandom=function(e){var r=new Uint8Array(e);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(r);else for(var o=0;o<e;o+=1)r[o]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(r)},i.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[],o=0;o<e.byteLength;o+=1)r.push(t[e[o]%t.length]);return r.join("")},i}();const as=ss;var He=(()=>(function(i){i.DEFAULT_MSG="Authentication Error",i.EMPTY_EMAIL="Email cannot be empty",i.EMPTY_PHONE="Phone number cannot be empty",i.EMPTY_USERNAME="Username cannot be empty",i.INVALID_USERNAME="The username should either be a string or one of the sign in types",i.EMPTY_PASSWORD="Password cannot be empty",i.EMPTY_CODE="Confirmation code cannot be empty",i.SIGN_UP_ERROR="Error creating account",i.NO_MFA="No valid MFA method provided",i.INVALID_MFA="Invalid MFA type",i.EMPTY_CHALLENGE="Challenge response cannot be empty",i.NO_USER_SESSION="Failed to get the session because the user is empty",i.NETWORK_ERROR="Network Error",i.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",i.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(He||(He={})),He))(),cs=new me.k("AuthError"),st=function(i){function e(t){var r=this,o=ls[t],n=o.message,c=o.log;return(r=i.call(this,n)||this).constructor=e,Object.setPrototypeOf(r,e.prototype),r.name="AuthError",r.log=c||n,cs.error(r.log),r}return ee(e,i),e}(Error),fs=function(i){function e(t){var r=i.call(this,t)||this;return r.constructor=e,Object.setPrototypeOf(r,e.prototype),r.name="NoUserPoolError",r}return ee(e,i),e}(st),ls={noConfig:{message:He.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:He.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:He.EMPTY_USERNAME},invalidUsername:{message:He.INVALID_USERNAME},emptyPassword:{message:He.EMPTY_PASSWORD},emptyCode:{message:He.EMPTY_CODE},signUpError:{message:He.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:He.NO_MFA},invalidMFA:{message:He.INVALID_MFA},emptyChallengeResponse:{message:He.EMPTY_CHALLENGE},noUserSession:{message:He.NO_USER_SESSION},deviceConfig:{message:He.DEVICE_CONFIG},networkError:{message:He.NETWORK_ERROR},autoSignInError:{message:He.AUTOSIGNIN_ERROR},default:{message:He.DEFAULT_MSG}},B=new me.k("AuthClass"),qn="aws.cognito.signin.user.admin",ds=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ie=function(i,e,t){ye.dispatch("auth",{event:i,data:e,message:t},"Auth",ds)},vs=function(){function i(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=Fn,this.wrapRefreshSessionCallback=function(r){return function(n,c){return c?Ie("tokenRefresh",void 0,"New token retrieved"):Ie("tokenRefresh_failure",n,"Failed to retrieve new token"),r(n,c)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),ye.listen("auth",function(r){switch(r.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}),No(),Gn($t.framework),$t.observeFrameworkChanges(function(){Gn($t.framework)})}return i.prototype.getModuleName=function(){return"Auth"},i.prototype.configure=function(e){var t=this;if(!e)return this._config||{};B.debug("configure Auth");var r=Object.assign({},this._config,Dn(e).Auth,e);this._config=r;var o=this._config,n=o.userPoolId,c=o.userPoolWebClientId,h=o.cookieStorage,g=o.oauth,u=o.region,d=o.identityPoolId,w=o.mandatorySignIn,b=o.refreshHandlers,x=o.identityPoolRegion,C=o.clientMetadata,M=o.endpoint,W=o.storage;if(W){if(!this._isValidAuthStorage(W))throw B.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=W}else this._storage=h?new Jo(h):e.ssr?new Oi:(new Ue).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),n){var G={UserPoolId:n,ClientId:c,endpoint:M};G.Storage=this._storage,this.userPool=new qo(G,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:w,region:u,userPoolId:n,identityPoolId:d,refreshHandlers:b,storage:this._storage,identityPoolRegion:x});var $=g?z(this._config.oauth)?g:g.awsCognito:void 0;if($){var ce=Object.assign({cognitoClientId:c,UserPoolId:n,domain:$.domain,scopes:$.scope,redirectSignIn:$.redirectSignIn,redirectSignOut:$.redirectSignOut,responseType:$.responseType,Storage:this._storage,urlOpener:$.urlOpener,clientMetadata:C},$.options);this._oAuthHandler=new as({scopes:ce.scopes,config:ce,cognitoClientId:ce.cognitoClientId});var ge={};!function(i){if(We().isBrowser&&window.location)Le={url:window.location.href},ge[Me=Le.url]||(ge[Me]=!0,t._handleAuthResponse(Me));else if(!We().isNode)throw new Error("Not supported");var Le,Me}()}return Ie("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(Ie("autoSignIn_failure",null,P.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},i.prototype.signUp=function(e){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var n,c,h;if(!this.userPool)return this.rejectNoUserPool();var b,g=null,u=null,d=[],w=null,x={enabled:!1},C={},M={};if(e&&"string"==typeof e){g=e,u=r?r[0]:null;var W=r?r[1]:null,G=r?r[2]:null;W&&d.push(new vt({Name:"email",Value:W})),G&&d.push(new vt({Name:"phone_number",Value:G}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(P.SignUpError);g=e.username,u=e.password,e&&e.clientMetadata?b=e.clientMetadata:this._config.clientMetadata&&(b=this._config.clientMetadata);var $=e.attributes;$&&Object.keys($).map(function(ge){d.push(new vt({Name:ge,Value:$[ge]}))});var ce=e.validationData;ce&&(w=[],Object.keys(ce).map(function(ge){w.push(new vt({Name:ge,Value:ce[ge]}))})),(x=null!==(n=e.autoSignIn)&&void 0!==n?n:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),C=null!==(c=x.validationData)&&void 0!==c?c:{},M=null!==(h=x.clientMetaData)&&void 0!==h?h:{})}return g?u?(B.debug("signUp attrs:",d),B.debug("signUp validation data:",w),new Promise(function(ge,Be){t.userPool.signUp(g,u,d,w,function(Le,Me){Le?(Ie("signUp_failure",Le,g+" failed to signup"),Be(Le)):(Ie("signUp",Me,g+" has signed up successfully"),x.enabled&&t.handleAutoSignIn(g,u,C,M,Me),ge(Me))},b)})):this.rejectAuthError(P.EmptyPassword):this.rejectAuthError(P.EmptyUsername)},i.prototype.handleAutoSignIn=function(e,t,r,o,n){this.autoSignInInitiated=!0;var c=new Mn({Username:e,Password:t,ValidationData:r,ClientMetadata:o});n.userConfirmed?this.signInAfterUserConfirmed(c):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(c):this.handleCodeAutoSignIn(c)},i.prototype.handleCodeAutoSignIn=function(e){var t=this,r=function(o){"confirmSignUp"===o.payload.event&&t.signInAfterUserConfirmed(e,r)};ye.listen("auth",r)},i.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var r=Date.now(),o=setInterval(function(){Date.now()-r>18e4?(clearInterval(o),Ie("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,o)},5e3)},i.prototype.signInAfterUserConfirmed=function(e,t,r){return p(this,void 0,void 0,function(){var o,n,c=this;return T(this,function(h){switch(h.label){case 0:o=this.createCognitoUser(e.getUsername()),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,o.authenticateUser(e,this.authCallbacks(o,function(g){Ie("autoSignIn",g,e.getUsername()+" has signed in successfully"),t&&ye.remove("auth",t),r&&(clearInterval(r),c._storage.removeItem("amplify-polling-started")),c._storage.removeItem("amplify-auto-sign-in")},function(g){B.error(g),c._storage.removeItem("amplify-auto-sign-in")}))];case 2:return h.sent(),[3,4];case 3:return n=h.sent(),B.error(n),[3,4];case 4:return[2]}})})},i.prototype.confirmSignUp=function(e,t,r){var o=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(P.EmptyUsername);if(!t)return this.rejectAuthError(P.EmptyCode);var h,n=this.createCognitoUser(e),c=!r||"boolean"!=typeof r.forceAliasCreation||r.forceAliasCreation;return r&&r.clientMetadata?h=r.clientMetadata:this._config.clientMetadata&&(h=this._config.clientMetadata),new Promise(function(g,u){n.confirmRegistration(t,c,function(d,w){d?u(d):(Ie("confirmSignUp",w,e+" has been confirmed successfully"),o.isTrueStorageValue("amplify-auto-sign-in")&&!o.autoSignInInitiated&&(Ie("autoSignIn_failure",null,P.AutoSignInError),o._storage.removeItem("amplify-auto-sign-in")),g(w))},h)})},i.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},i.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(P.EmptyUsername);var r=this.createCognitoUser(e);return new Promise(function(o,n){r.resendConfirmationCode(function(c,h){c?n(c):o(h)},t)})},i.prototype.signIn=function(e,t,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var o=null,n=null,c={};if("string"==typeof e)o=e,n=t;else{if(!function j(i){return!!i.username}(e))return this.rejectAuthError(P.InvalidUsername);typeof t<"u"&&B.warn("The password should be defined under the first parameter object!"),o=e.username,n=e.password,c=e.validationData}if(!o)return this.rejectAuthError(P.EmptyUsername);var h=new Mn({Username:o,Password:n,ValidationData:c,ClientMetadata:r});return n?this.signInWithPassword(h):this.signInWithoutPassword(h)},i.prototype.authCallbacks=function(e,t,r){var o=this,n=this;return{onSuccess:function(c){return p(o,void 0,void 0,function(){var h,g,u,d;return T(this,function(w){switch(w.label){case 0:B.debug(c),delete e.challengeName,delete e.challengeParam,w.label=1;case 1:return w.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return w.sent(),[4,this.Credentials.set(c,"session")];case 3:return h=w.sent(),B.debug("succeed to get cognito credentials",h),[3,9];case 4:return g=w.sent(),B.debug("cannot get cognito credentials",g),[3,9];case 5:return w.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return u=w.sent(),n.user=u,Ie("signIn",u,"A user "+e.getUsername()+" has been signed in"),t(u),[3,8];case 7:return d=w.sent(),B.error("Failed to get the signed in user",d),r(d),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(c){B.debug("signIn failure",c),Ie("signIn_failure",c,e.getUsername()+" failed to signin"),r(c)},customChallenge:function(c){B.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=c,t(e)},mfaRequired:function(c,h){B.debug("signIn MFA required"),e.challengeName=c,e.challengeParam=h,t(e)},mfaSetup:function(c,h){B.debug("signIn mfa setup",c),e.challengeName=c,e.challengeParam=h,t(e)},newPasswordRequired:function(c,h){B.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:c,requiredAttributes:h},t(e)},totpRequired:function(c,h){B.debug("signIn totpRequired"),e.challengeName=c,e.challengeParam=h,t(e)},selectMFAType:function(c,h){B.debug("signIn selectMFAType",c),e.challengeName=c,e.challengeParam=h,t(e)}}},i.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var r=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(o,n){r.authenticateUser(e,t.authCallbacks(r,function(c){t.pendingSignIn=null,o(c)},function(c){t.pendingSignIn=null,n(c)}))}),this.pendingSignIn},i.prototype.signInWithoutPassword=function(e){var t=this,r=this.createCognitoUser(e.getUsername());return r.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(o,n){r.initiateAuth(e,t.authCallbacks(r,o,n))})},i.prototype.getMFAOptions=function(e){return new Promise(function(t,r){e.getMFAOptions(function(o,n){if(o)return B.debug("get MFA Options failed",o),void r(o);B.debug("get MFA options success",n),t(n)})})},i.prototype.getPreferredMFA=function(e,t){var r=this,o=this;return new Promise(function(n,c){e.getUserData(function(u,d){return p(r,void 0,void 0,function(){var w,b;return T(this,function(x){switch(x.label){case 0:if(!u)return[3,5];if(B.debug("getting preferred mfa failed",u),!this.isSessionInvalid(u))return[3,4];x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return x.sent(),[3,4];case 3:return w=x.sent(),c(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+w.message)),[2];case 4:return c(u),[2];case 5:return(b=o._getMfaTypeFromUserData(d))?(n(b),[2]):(c("invalid MFA Type"),[2])}})})},{bypassCache:!!t&&t.bypassCache,clientMetadata:r._config.clientMetadata})})},i.prototype._getMfaTypeFromUserData=function(e){var t=null,r=e.PreferredMfaSetting;if(r)t=r;else{var o=e.UserMFASettingList;o?0===o.length?t="NOMFA":B.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},i.prototype._getUserData=function(e,t){var r=this;return new Promise(function(o,n){e.getUserData(function(c,h){return p(r,void 0,void 0,function(){var g;return T(this,function(u){switch(u.label){case 0:if(!c)return[3,5];if(B.debug("getting user data failed",c),!this.isSessionInvalid(c))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return g=u.sent(),n(new Error("Session is invalid due to: "+c.message+" and failed to clean up invalid session: "+g.message)),[2];case 4:return n(c),[2];case 5:o(h),u.label=6;case 6:return[2]}})})},t)})},i.prototype.setPreferredMFA=function(e,t){return p(this,void 0,void 0,function(){var r,o,n,c,g,u,w=this;return T(this,function(b){switch(b.label){case 0:return[4,this._getUserData(e,{bypassCache:!0,clientMetadata:r=this._config.clientMetadata})];case 1:switch(o=b.sent(),n=null,c=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return c={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return n={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return g=o.UserMFASettingList,[4,this._getMfaTypeFromUserData(o)];case 5:if("NOMFA"===(u=b.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)n={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(P.InvalidMFA)];c={PreferredMfa:!1,Enabled:!1}}return g&&0!==g.length&&g.forEach(function(x){"SMS_MFA"===x?n={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===x&&(c={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return B.debug("no validmfa method provided"),[2,this.rejectAuthError(P.NoMFA)];case 7:return[2,new Promise(function(x,C){e.setUserMfaPreference(n,c,function(M,W){if(M)return B.debug("Set user mfa preference error",M),C(M);B.debug("Set user mfa success",W),B.debug("Caching the latest user data into local"),e.getUserData(function(G,$){return p(w,void 0,void 0,function(){var ce;return T(this,function(ge){switch(ge.label){case 0:if(!G)return[3,5];if(B.debug("getting user data failed",G),!this.isSessionInvalid(G))return[3,4];ge.label=1;case 1:return ge.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return ge.sent(),[3,4];case 3:return ce=ge.sent(),C(new Error("Session is invalid due to: "+G.message+" and failed to clean up invalid session: "+ce.message)),[2];case 4:return[2,C(G)];case 5:return[2,x(W)]}})})},{bypassCache:!0,clientMetadata:r})})})]}})})},i.prototype.disableSMS=function(e){return new Promise(function(t,r){e.disableMFA(function(o,n){if(o)return B.debug("disable mfa failed",o),void r(o);B.debug("disable mfa succeed",n),t(n)})})},i.prototype.enableSMS=function(e){return new Promise(function(t,r){e.enableMFA(function(o,n){if(o)return B.debug("enable mfa failed",o),void r(o);B.debug("enable mfa succeed",n),t(n)})})},i.prototype.setupTOTP=function(e){return new Promise(function(t,r){e.associateSoftwareToken({onFailure:function(o){B.debug("associateSoftwareToken failed",o),r(o)},associateSecretCode:function(o){B.debug("associateSoftwareToken success",o),t(o)}})})},i.prototype.verifyTotpToken=function(e,t){var r;B.debug("verification totp token",e,t),e&&"function"==typeof e.getSignInUserSession&&(r=e.getSignInUserSession());var o=r?.isValid();return new Promise(function(n,c){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(h){B.debug("verifyTotpToken failed",h),c(h)},onSuccess:function(h){o||Ie("signIn",e,"A user "+e.getUsername()+" has been signed in"),Ie("verify",e,"A user "+e.getUsername()+" has been verified"),B.debug("verifyTotpToken success",h),n(h)}})})},i.prototype.confirmSignIn=function(e,t,r,o){var n=this;if(void 0===o&&(o=this._config.clientMetadata),!t)return this.rejectAuthError(P.EmptyCode);var c=this;return new Promise(function(h,g){e.sendMFACode(t,{onSuccess:function(u){return p(n,void 0,void 0,function(){var d,w,b,x;return T(this,function(C){switch(C.label){case 0:B.debug(u),C.label=1;case 1:return C.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return C.sent(),[4,this.Credentials.set(u,"session")];case 3:return d=C.sent(),B.debug("succeed to get cognito credentials",d),[3,10];case 4:return w=C.sent(),B.debug("cannot get cognito credentials",w),[3,10];case 5:c.user=e,C.label=6;case 6:return C.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return b=C.sent(),e.attributes=b.attributes,[3,9];case 8:return x=C.sent(),B.debug("cannot get updated Cognito User",x),[3,9];case 9:return Ie("signIn",e,"A user "+e.getUsername()+" has been signed in"),h(e),[7];case 10:return[2]}})})},onFailure:function(u){B.debug("confirm signIn failure",u),g(u)}},r,o)})},i.prototype.completeNewPassword=function(e,t,r,o){var n=this;if(void 0===r&&(r={}),void 0===o&&(o=this._config.clientMetadata),!t)return this.rejectAuthError(P.EmptyPassword);var c=this;return new Promise(function(h,g){e.completeNewPasswordChallenge(t,r,{onSuccess:function(u){return p(n,void 0,void 0,function(){var d,w;return T(this,function(b){switch(b.label){case 0:B.debug(u),b.label=1;case 1:return b.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return b.sent(),[4,this.Credentials.set(u,"session")];case 3:return d=b.sent(),B.debug("succeed to get cognito credentials",d),[3,6];case 4:return w=b.sent(),B.debug("cannot get cognito credentials",w),[3,6];case 5:return c.user=e,Ie("signIn",e,"A user "+e.getUsername()+" has been signed in"),h(e),[7];case 6:return[2]}})})},onFailure:function(u){B.debug("completeNewPassword failure",u),Ie("completeNewPassword_failure",u,n.user+" failed to complete the new password flow"),g(u)},mfaRequired:function(u,d){B.debug("signIn MFA required"),e.challengeName=u,e.challengeParam=d,h(e)},mfaSetup:function(u,d){B.debug("signIn mfa setup",u),e.challengeName=u,e.challengeParam=d,h(e)},totpRequired:function(u,d){B.debug("signIn mfa setup",u),e.challengeName=u,e.challengeParam=d,h(e)}},o)})},i.prototype.sendCustomChallengeAnswer=function(e,t,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),this.userPool?t?new Promise(function(c,h){e.sendCustomChallengeAnswer(t,o.authCallbacks(e,c,h),r)}):this.rejectAuthError(P.EmptyChallengeResponse):this.rejectNoUserPool()},i.prototype.deleteUserAttributes=function(e,t){var r=this;return new Promise(function(o,n){r.userSession(e).then(function(c){e.deleteAttributes(t,function(h,g){return h?n(h):o(g)})})})},i.prototype.deleteUser=function(){return p(this,void 0,void 0,function(){var e,t,r=this;return T(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw e=o.sent(),B.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(n,c){return p(r,void 0,void 0,function(){var h,g=this;return T(this,function(u){if(this.userPool){if(!(h=this.userPool.getCurrentUser()))return B.debug("Failed to get user from user pool"),[2,c(new Error("No current user."))];h.getSession(function(d,w){return p(g,void 0,void 0,function(){var b,x=this;return T(this,function(C){switch(C.label){case 0:if(!d)return[3,5];if(B.debug("Failed to get the user session",d),!this.isSessionInvalid(d))return[3,4];C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(h)];case 2:return C.sent(),[3,4];case 3:return b=C.sent(),c(new Error("Session is invalid due to: "+d.message+" and failed to clean up invalid session: "+b.message)),[2];case 4:return[2,c(d)];case 5:h.deleteUser(function(M,W){if(M)c(M);else{Ie("userDeleted",W,"The authenticated user has been deleted."),h.signOut(),x.user=null;try{x.cleanCachedItems()}catch{B.debug("failed to clear cached items")}t?x.oAuthSignOutRedirect(n,c):(Ie("signOut",x.user,"A user has been signed out"),n(W))}}),C.label=6;case 6:return[2]}})})})}else B.debug("no Congito User pool"),c(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},i.prototype.updateUserAttributes=function(e,t,r){var o=this;void 0===r&&(r=this._config.clientMetadata);var n=[],c=this;return new Promise(function(h,g){c.userSession(e).then(function(u){for(var d in t)"sub"!==d&&d.indexOf("_verified")<0&&n.push({Name:d,Value:t[d]});e.updateAttributes(n,function(b,x,C){if(b)return Ie("updateUserAttributes_failure",b,"Failed to update attributes"),g(b);var M=o.createUpdateAttributesResultList(t,C?.CodeDeliveryDetailsList);return Ie("updateUserAttributes",M,"Attributes successfully updated"),h(x)},r)})})},i.prototype.createUpdateAttributesResultList=function(e,t){var r={};return Object.keys(e).forEach(function(o){r[o]={isUpdated:!0};var n=t?.find(function(c){return c.AttributeName===o});n&&(r[o].isUpdated=!1,r[o].codeDeliveryDetails=n)}),r},i.prototype.userAttributes=function(e){var t=this;return new Promise(function(r,o){t.userSession(e).then(function(n){e.getUserAttributes(function(c,h){c?o(c):r(h)})})})},i.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(r){var o=t.attributesToObject(r),n={},c={};return o.email&&(o.email_verified?c.email=o.email:n.email=o.email),o.phone_number&&(o.phone_number_verified?c.phone_number=o.phone_number:n.phone_number=o.phone_number),{verified:c,unverified:n}})},i.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},i.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},i.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},i.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},i.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},i.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},i.prototype.isPasswordResetRequiredError=function(e){return this.isErrorWithMessage(e)&&"Password reset required for the user"===e.message},i.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},i.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)||this.isPasswordResetRequiredError(e)},i.prototype.cleanUpInvalidSession=function(e){return p(this,void 0,void 0,function(){var r=this;return T(this,function(o){switch(o.label){case 0:e.signOut(),this.user=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return o.sent(),[3,4];case 3:return o.sent(),B.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(n,c){r.oAuthSignOutRedirect(n,c)})]:(Ie("signOut",this.user,"A user has been signed out"),[2])}})})},i.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise(function(r,o){t._storageSync.then(function(){return p(t,void 0,void 0,function(){var n,c,h,g,u,w,b=this;return T(this,function(x){switch(x.label){case 0:return this.isOAuthInProgress()?(B.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(C){var M=setTimeout(function(){B.debug("OAuth signIn in progress timeout"),ye.remove("auth",W),C()},1e4);function W(G){var ce=G.payload.event;("cognitoHostedUI"===ce||"cognitoHostedUI_failure"===ce)&&(B.debug("OAuth signIn resolved: "+ce),clearTimeout(M),ye.remove("auth",W),C())}ye.listen("auth",W)})]):[3,2];case 1:x.sent(),x.label=2;case 2:if(!(n=this.userPool.getCurrentUser()))return B.debug("Failed to get user from user pool"),o("No current user"),[2];x.label=3;case 3:return x.trys.push([3,7,,8]),[4,this._userSession(n)];case 4:return c=x.sent(),(h=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:x.sent(),x.label=6;case 6:return g=this._config.clientMetadata,(void 0===(u=c.getAccessToken().decodePayload().scope)?"":u).split(" ").includes(qn)?(n.getUserData(function(C,M){return p(b,void 0,void 0,function(){var W,G,$,ce,Be,Le;return T(this,function(Me){switch(Me.label){case 0:if(!C)return[3,7];if(B.debug("getting user data failed",C),!this.isSessionInvalid(C))return[3,5];Me.label=1;case 1:return Me.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return Me.sent(),[3,4];case 3:return W=Me.sent(),o(new Error("Session is invalid due to: "+C.message+" and failed to clean up invalid session: "+W.message)),[2];case 4:return o(C),[3,6];case 5:r(n),Me.label=6;case 6:return[2];case 7:for(G=M.PreferredMfaSetting||"NOMFA",$=[],ce=0;ce<M.UserAttributes.length;ce++)Be=new vt({Name:M.UserAttributes[ce].Name,Value:M.UserAttributes[ce].Value}),$.push(Be);return Le=this.attributesToObject($),Object.assign(n,{attributes:Le,preferredMFA:G}),[2,r(n)]}})})},{bypassCache:h,clientMetadata:g}),[3,8]):(B.debug("Unable to get the user data because the "+qn+" is not in the scopes of the access token"),[2,r(n)]);case 7:return w=x.sent(),o(w),[3,8];case 8:return[2]}})})}).catch(function(n){return B.debug("Failed to sync cache info into memory",n),o(n)})}):this.rejectNoUserPool()},i.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},i.prototype.currentAuthenticatedUser=function(e){return p(this,void 0,void 0,function(){var t,r,o,n,c;return T(this,function(h){switch(h.label){case 0:B.debug("getting current authenticated user"),t=null,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this._storageSync];case 2:return h.sent(),[3,4];case 3:throw r=h.sent(),B.debug("Failed to sync cache info into memory",r),r;case 4:try{(o=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=N(N({},o.user),{token:o.token}))}catch{B.debug("cannot load federated user from auth storage")}return t?(this.user=t,B.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:B.debug("get current authenticated userpool user"),n=null,h.label=6;case 6:return h.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return n=h.sent(),[3,9];case 8:return"No userPool"===(c=h.sent())&&B.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),B.debug("The user is not authenticated by the error",c),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=n,[2,this.user]}})})},i.prototype.currentSession=function(){var e=this;return B.debug("Getting current session"),this.userPool?new Promise(function(t,r){e.currentUserPoolUser().then(function(o){e.userSession(o).then(function(n){t(n)}).catch(function(n){B.debug("Failed to get the current session",n),r(n)})}).catch(function(o){B.debug("Failed to get the current user",o),r(o)})}):Promise.reject(new Error("No User Pool in the configuration."))},i.prototype._userSession=function(e){return p(this,void 0,void 0,function(){var t,r,o=this;return T(this,function(n){switch(n.label){case 0:if(!e)return B.debug("the user is null"),[2,this.rejectAuthError(P.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise(function(c,h){e.getSession(function(g,u){return p(o,void 0,void 0,function(){var d;return T(this,function(w){switch(w.label){case 0:if(!g)return[3,5];if(B.debug("Failed to get the session from user",e),!this.isSessionInvalid(g))return[3,4];w.label=1;case 1:return w.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return w.sent(),[3,4];case 3:return d=w.sent(),h(new Error("Session is invalid due to: "+g.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return h(g),[2];case 5:return B.debug("Succeed to get the user session",u),c(u),[2]}})})},{clientMetadata:t})})),this.inflightSessionPromiseCounter++,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return r=n.sent(),e.signInUserSession=r,[2,r];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},i.prototype.userSession=function(e){return this._userSession(e)},i.prototype.currentUserCredentials=function(){return p(this,void 0,void 0,function(){var e,t,r=this;return T(this,function(o){switch(o.label){case 0:B.debug("Getting current user credentials"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._storageSync];case 2:return o.sent(),[3,4];case 3:throw e=o.sent(),B.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(n){B.debug("failed to get or parse item aws-amplify-federatedInfo",n)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then(function(n){return B.debug("getting session success",n),r.Credentials.set(n,"session")}).catch(function(){return B.debug("getting guest credentials"),r.Credentials.set(null,"guest")})]}})})},i.prototype.currentCredentials=function(){return B.debug("getting current credentials"),this.Credentials.get()},i.prototype.verifyUserAttribute=function(e,t,r){return void 0===r&&(r=this._config.clientMetadata),new Promise(function(o,n){e.getAttributeVerificationCode(t,{onSuccess:function(c){return o(c)},onFailure:function(c){return n(c)}},r)})},i.prototype.verifyUserAttributeSubmit=function(e,t,r){return r?new Promise(function(o,n){e.verifyAttribute(t,r,{onSuccess:function(c){o(c)},onFailure:function(c){n(c)}})}):this.rejectAuthError(P.EmptyCode)},i.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(r){return t.verifyUserAttribute(r,e)})},i.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var r=this;return r.currentUserPoolUser().then(function(o){return r.verifyUserAttributeSubmit(o,e,t)})},i.prototype.cognitoIdentitySignOut=function(e,t){return p(this,void 0,void 0,function(){var r,o,n=this;return T(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this._storageSync];case 1:return c.sent(),[3,3];case 2:throw r=c.sent(),B.debug("Failed to sync cache info into memory",r),r;case 3:return o=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(h,g){e&&e.global?(B.debug("user global sign out",t),t.getSession(function(d,w){return p(n,void 0,void 0,function(){var b,x=this;return T(this,function(C){switch(C.label){case 0:if(!d)return[3,5];if(B.debug("failed to get the user session",d),!this.isSessionInvalid(d))return[3,4];C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return C.sent(),[3,4];case 3:return b=C.sent(),g(new Error("Session is invalid due to: "+d.message+" and failed to clean up invalid session: "+b.message)),[2];case 4:return[2,g(d)];case 5:return t.globalSignOut({onSuccess:function(M){if(B.debug("global sign out success"),!o)return h();x.oAuthSignOutRedirect(h,g)},onFailure:function(M){return B.debug("global sign out failed",M),g(M)}}),[2]}})})},{clientMetadata:n._config.clientMetadata})):(B.debug("user sign out",t),t.signOut(function(){if(!o)return h();n.oAuthSignOutRedirect(h,g)}))})]}})})},i.prototype.oAuthSignOutRedirect=function(e,t){We().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},i.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},i.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e(Error("Signout timeout fail"))},3e3)},i.prototype.signOut=function(e){return p(this,void 0,void 0,function(){var r;return T(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return o.sent(),[3,3];case 2:return o.sent(),B.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(r=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,r)]:[3,5]:[3,7];case 4:return o.sent(),[3,6];case 5:B.debug("no current Cognito user"),o.label=6;case 6:return[3,8];case 7:B.debug("no Cognito User pool"),o.label=8;case 8:return Ie("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},i.prototype.cleanCachedItems=function(){return p(this,void 0,void 0,function(){return T(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},i.prototype.changePassword=function(e,t,r,o){var n=this;return void 0===o&&(o=this._config.clientMetadata),new Promise(function(c,h){n.userSession(e).then(function(g){e.changePassword(t,r,function(u,d){return u?(B.debug("change password failure",u),h(u)):c(d)},o)})})},i.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(P.EmptyUsername);var r=this.createCognitoUser(e);return new Promise(function(o,n){r.forgotPassword({onSuccess:function(){o()},onFailure:function(c){B.debug("forgot password failure",c),Ie("forgotPassword_failure",c,e+" forgotPassword failed"),n(c)},inputVerificationCode:function(c){Ie("forgotPassword",r,e+" has initiated forgot password flow"),o(c)}},t)})},i.prototype.forgotPasswordSubmit=function(e,t,r,o){if(void 0===o&&(o=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(P.EmptyUsername);if(!t)return this.rejectAuthError(P.EmptyCode);if(!r)return this.rejectAuthError(P.EmptyPassword);var n=this.createCognitoUser(e);return new Promise(function(c,h){n.confirmPassword(t,r,{onSuccess:function(g){Ie("forgotPasswordSubmit",n,e+" forgotPasswordSubmit successful"),c(g)},onFailure:function(g){Ie("forgotPasswordSubmit_failure",g,e+" forgotPasswordSubmit failed"),h(g)}},o)})},i.prototype.currentUserInfo=function(){return p(this,void 0,void 0,function(){var e,t,r,o,n,h,g;return T(this,function(u){switch(u.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch(function(d){return B.error(d)})];case 1:if(!(g=u.sent()))return[2,null];u.label=2;case 2:return u.trys.push([2,8,,9]),[4,this.userAttributes(g)];case 3:t=u.sent(),r=this.attributesToObject(t),o=null,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return o=u.sent(),[3,7];case 6:return n=u.sent(),B.debug("Failed to retrieve credentials while getting current user info",n),[3,7];case 7:return[2,{id:o?o.identityId:void 0,username:g.getUsername(),attributes:r}];case 8:return h=u.sent(),B.error("currentUserInfo error",h),[2,{}];case 9:return"federated"===e?[2,(g=this.user)||{}]:[2]}})})},i.prototype.federatedSignIn=function(e,t,r){return p(this,void 0,void 0,function(){var o,n,c,h,g,u,x,C;return T(this,function(M){switch(M.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof e>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return y(e)||function O(i){return i&&!!["customProvider"].find(function(t){return i.hasOwnProperty(t)})}(e)||function H(i){return i&&!!["customState"].find(function(t){return i.hasOwnProperty(t)})}(e)||typeof e>"u"?(g=y(o=e||{provider:_.Cognito})?o.provider:o.customProvider,y(o),n=o.customState,this._config.userPoolId&&(c=z(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,h=z(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,h,c,g,n)),[3,4]):[3,1];case 1:g=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&B.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch{}return[4,this.Credentials.set({provider:g,token:t.token,identity_id:t.identity_id,user:r,expires_at:t.expires_at},"federation")];case 2:return x=M.sent(),[4,this.currentAuthenticatedUser()];case 3:return C=M.sent(),Ie("signIn",C,"A user "+C.username+" has been signed in"),B.debug("federated sign in credentials",x),[2,x];case 4:return[2]}})})},i.prototype._handleAuthResponse=function(e){return p(this,void 0,void 0,function(){var t,r,o,n,c,g,u,d,w,b,x,C,M;return T(this,function(W){switch(W.label){case 0:if(this.oAuthFlowInProgress)return B.debug("Skipping URL "+e+" current flow in progress"),[2];W.label=1;case 1:if(W.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Ie("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(We().isBrowser?window.location.href:""),r=!!((0,ot.Qc)(t).query||"").split("&").map(function(G){return G.split("=")}).find(function(G){var ce=k(G,1)[0];return"code"===ce||"error"===ce}),o=!!((0,ot.Qc)(t).hash||"#").substr(1).split("&").map(function(G){return G.split("=")}).find(function(G){var ce=k(G,1)[0];return"access_token"===ce||"error"===ce}),!r&&!o)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),W.label=2;case 2:return W.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return n=W.sent(),c=n.accessToken,g=n.refreshToken,u=n.state,d=new dn({IdToken:new ln({IdToken:n.idToken}),RefreshToken:new hn({RefreshToken:g}),AccessToken:new cn({AccessToken:c})}),w=void 0,this._config.identityPoolId?[4,this.Credentials.set(d,"session")]:[3,5];case 4:w=W.sent(),B.debug("AWS credentials",w),W.label=5;case 5:return b=/-/.test(u),(x=this.createCognitoUser(d.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(d),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Ie("signIn",x,"A user "+x.getUsername()+" has been signed in"),Ie("cognitoHostedUI",x,"A user "+x.getUsername()+" has been signed in via Cognito Hosted UI"),b&&(C=u.split("-").splice(1).join("-"),Ie("customOAuthState",function Mi(i){return i.match(/.{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join("")}(C),"State for user "+x.getUsername())),[2,w];case 6:return M=W.sent(),B.debug("Error in cognito hosted auth response",M),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Ie("signIn_failure",M,"The OAuth response flow failed"),Ie("cognitoHostedUI_failure",M,"A failure occurred when returning to the Cognito Hosted UI"),Ie("customState_failure",M,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},i.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},i.prototype.attributesToObject=function(e){var t=this,r={};return e&&e.map(function(o){r[o.Name]="email_verified"===o.Name||"phone_number_verified"===o.Name?t.isTruthyString(o.Value)||!0===o.Value:o.Value}),r},i.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},i.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var r=this._config.authenticationFlowType,o=new gn(t);return r&&o.setAuthenticationFlowType(r),o},i.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},i.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?P.NoConfig:P.MissingAuthConfig},i.prototype.rejectAuthError=function(e){return Promise.reject(new st(e))},i.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new fs(e))},i.prototype.rememberDevice=function(){return p(this,void 0,void 0,function(){var e,t;return T(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return t=r.sent(),B.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(o,n){e.setDeviceStatusRemembered({onSuccess:function(c){o(c)},onFailure:function(c){n("InvalidParameterException"===c.code?new st(P.DeviceConfig):"NetworkError"===c.code?new st(P.NetworkError):c)}})})]}})})},i.prototype.forgetDevice=function(){return p(this,void 0,void 0,function(){var e,t;return T(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return t=r.sent(),B.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(o,n){e.forgetDevice({onSuccess:function(c){o(c)},onFailure:function(c){n("InvalidParameterException"===c.code?new st(P.DeviceConfig):"NetworkError"===c.code?new st(P.NetworkError):c)}})})]}})})},i.prototype.fetchDevices=function(){return p(this,void 0,void 0,function(){var e,t;return T(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:throw t=r.sent(),B.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(o,n){e.listDevices(60,null,{onSuccess:function(h){var g=h.Devices.map(function(u){var d=u.DeviceAttributes.find(function(b){return"device_name"===b.Name})||{};return{id:u.DeviceKey,name:d.Value}});o(g)},onFailure:function(h){n("InvalidParameterException"===h.code?new st(P.DeviceConfig):"NetworkError"===h.code?new st(P.NetworkError):h)}})})]}})})},i}(),Jn=new vs(null);Zt.d.register(Jn)},3894:(pe,F,I)=>{"use strict";var ee=I(5343),N=I(8461),R=I(6425);function m(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function U(f,s){if(m()<s)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(f=new Uint8Array(s)).__proto__=p.prototype:(null===f&&(f=new p(s)),f.length=s),f}function p(f,s,a){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(f,s,a);if("number"==typeof f){if("string"==typeof s)throw new Error("If encoding is specified then the first argument must be a string");return Y(this,f)}return T(this,f,s,a)}function T(f,s,a,l){if("number"==typeof s)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer?function re(f,s,a,l){if(a<0||s.byteLength<a)throw new RangeError("'offset' is out of bounds");if(s.byteLength<a+(l||0))throw new RangeError("'length' is out of bounds");return s=void 0===a&&void 0===l?new Uint8Array(s):void 0===l?new Uint8Array(s,a):new Uint8Array(s,a,l),p.TYPED_ARRAY_SUPPORT?(f=s).__proto__=p.prototype:f=J(f,s),f}(f,s,a,l):"string"==typeof s?function k(f,s,a){if(("string"!=typeof a||""===a)&&(a="utf8"),!p.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var l=0|Ce(s,a),v=(f=U(f,l)).write(s,a);return v!==l&&(f=f.slice(0,v)),f}(f,s,a):function oe(f,s){if(p.isBuffer(s)){var a=0|Se(s.length);return 0===(f=U(f,a)).length||s.copy(f,0,0,a),f}if(s){if(typeof ArrayBuffer<"u"&&s.buffer instanceof ArrayBuffer||"length"in s)return"number"!=typeof s.length||function We(f){return f!=f}(s.length)?U(f,0):J(f,s);if("Buffer"===s.type&&R(s.data))return J(f,s.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(f,s)}function q(f){if("number"!=typeof f)throw new TypeError('"size" argument must be a number');if(f<0)throw new RangeError('"size" argument must not be negative')}function Y(f,s){if(q(s),f=U(f,s<0?0:0|Se(s)),!p.TYPED_ARRAY_SUPPORT)for(var a=0;a<s;++a)f[a]=0;return f}function J(f,s){var a=s.length<0?0:0|Se(s.length);f=U(f,a);for(var l=0;l<a;l+=1)f[l]=255&s[l];return f}function Se(f){if(f>=m())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m().toString(16)+" bytes");return 0|f}function Ce(f,s){if(p.isBuffer(f))return f.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(f)||f instanceof ArrayBuffer))return f.byteLength;"string"!=typeof f&&(f=""+f);var a=f.length;if(0===a)return 0;for(var l=!1;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return Ee(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return Qe(f).length;default:if(l)return Ee(f).length;s=(""+s).toLowerCase(),l=!0}}function Pe(f,s,a){var l=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===a||a>this.length)&&(a=this.length),a<=0)||(a>>>=0)<=(s>>>=0))return"";for(f||(f="utf8");;)switch(f){case"hex":return Z(this,s,a);case"utf8":case"utf-8":return j(this,s,a);case"ascii":return ue(this,s,a);case"latin1":case"binary":return xe(this,s,a);case"base64":return P(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,s,a);default:if(l)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),l=!0}}function de(f,s,a){var l=f[s];f[s]=f[a],f[a]=l}function Q(f,s,a,l,v){if(0===f.length)return-1;if("string"==typeof a?(l=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=v?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(v)return-1;a=f.length-1}else if(a<0){if(!v)return-1;a=0}if("string"==typeof s&&(s=p.from(s,l)),p.isBuffer(s))return 0===s.length?-1:Fe(f,s,a,l,v);if("number"==typeof s)return s&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?v?Uint8Array.prototype.indexOf.call(f,s,a):Uint8Array.prototype.lastIndexOf.call(f,s,a):Fe(f,[s],a,l,v);throw new TypeError("val must be string, number or Buffer")}function Fe(f,s,a,l,v){var ae,S=1,A=f.length,te=s.length;if(void 0!==l&&("ucs2"===(l=String(l).toLowerCase())||"ucs-2"===l||"utf16le"===l||"utf-16le"===l)){if(f.length<2||s.length<2)return-1;S=2,A/=2,te/=2,a/=2}function se(nt,at){return 1===S?nt[at]:nt.readUInt16BE(at*S)}if(v){var _e=-1;for(ae=a;ae<A;ae++)if(se(f,ae)===se(s,-1===_e?0:ae-_e)){if(-1===_e&&(_e=ae),ae-_e+1===te)return _e*S}else-1!==_e&&(ae-=ae-_e),_e=-1}else for(a+te>A&&(a=A-te),ae=a;ae>=0;ae--){for(var le=!0,Xe=0;Xe<te;Xe++)if(se(f,ae+Xe)!==se(s,Xe)){le=!1;break}if(le)return ae}return-1}function E(f,s,a,l){a=Number(a)||0;var v=f.length-a;l?(l=Number(l))>v&&(l=v):l=v;var S=s.length;if(S%2!=0)throw new TypeError("Invalid hex string");l>S/2&&(l=S/2);for(var A=0;A<l;++A){var te=parseInt(s.substr(2*A,2),16);if(isNaN(te))return A;f[a+A]=te}return A}function _(f,s,a,l){return Ye(Ee(s,f.length-a),f,a,l)}function y(f,s,a,l){return Ye(function je(f){for(var s=[],a=0;a<f.length;++a)s.push(255&f.charCodeAt(a));return s}(s),f,a,l)}function O(f,s,a,l){return y(f,s,a,l)}function H(f,s,a,l){return Ye(Qe(s),f,a,l)}function z(f,s,a,l){return Ye(function Ge(f,s){for(var a,l,S=[],A=0;A<f.length&&!((s-=2)<0);++A)l=(a=f.charCodeAt(A))>>8,S.push(a%256),S.push(l);return S}(s,f.length-a),f,a,l)}function P(f,s,a){return ee.fromByteArray(0===s&&a===f.length?f:f.slice(s,a))}function j(f,s,a){a=Math.min(f.length,a);for(var l=[],v=s;v<a;){var se,ae,_e,le,S=f[v],A=null,te=S>239?4:S>223?3:S>191?2:1;if(v+te<=a)switch(te){case 1:S<128&&(A=S);break;case 2:128==(192&(se=f[v+1]))&&(le=(31&S)<<6|63&se)>127&&(A=le);break;case 3:ae=f[v+2],128==(192&(se=f[v+1]))&&128==(192&ae)&&(le=(15&S)<<12|(63&se)<<6|63&ae)>2047&&(le<55296||le>57343)&&(A=le);break;case 4:ae=f[v+2],_e=f[v+3],128==(192&(se=f[v+1]))&&128==(192&ae)&&128==(192&_e)&&(le=(15&S)<<18|(63&se)<<12|(63&ae)<<6|63&_e)>65535&&le<1114112&&(A=le)}null===A?(A=65533,te=1):A>65535&&(l.push((A-=65536)>>>10&1023|55296),A=56320|1023&A),l.push(A),v+=te}return function me(f){var s=f.length;if(s<=ve)return String.fromCharCode.apply(String,f);for(var a="",l=0;l<s;)a+=String.fromCharCode.apply(String,f.slice(l,l+=ve));return a}(l)}F.lW=p,F.h2=50,p.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function ne(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===f.foo()&&"function"==typeof f.subarray&&0===f.subarray(1,1).byteLength}catch{return!1}}(),m(),p.poolSize=8192,p._augment=function(f){return f.__proto__=p.prototype,f},p.from=function(f,s,a){return T(null,f,s,a)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(f,s,a){return function L(f,s,a,l){return q(s),s<=0?U(f,s):void 0!==a?"string"==typeof l?U(f,s).fill(a,l):U(f,s).fill(a):U(f,s)}(null,f,s,a)},p.allocUnsafe=function(f){return Y(null,f)},p.allocUnsafeSlow=function(f){return Y(null,f)},p.isBuffer=function(s){return!(null==s||!s._isBuffer)},p.compare=function(s,a){if(!p.isBuffer(s)||!p.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(s===a)return 0;for(var l=s.length,v=a.length,S=0,A=Math.min(l,v);S<A;++S)if(s[S]!==a[S]){l=s[S],v=a[S];break}return l<v?-1:v<l?1:0},p.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(s,a){if(!R(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return p.alloc(0);var l;if(void 0===a)for(a=0,l=0;l<s.length;++l)a+=s[l].length;var v=p.allocUnsafe(a),S=0;for(l=0;l<s.length;++l){var A=s[l];if(!p.isBuffer(A))throw new TypeError('"list" argument must be an Array of Buffers');A.copy(v,S),S+=A.length}return v},p.byteLength=Ce,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<s;a+=2)de(this,a,a+1);return this},p.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<s;a+=4)de(this,a,a+3),de(this,a+1,a+2);return this},p.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<s;a+=8)de(this,a,a+7),de(this,a+1,a+6),de(this,a+2,a+5),de(this,a+3,a+4);return this},p.prototype.toString=function(){var s=0|this.length;return 0===s?"":0===arguments.length?j(this,0,s):Pe.apply(this,arguments)},p.prototype.equals=function(s){if(!p.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===p.compare(this,s)},p.prototype.inspect=function(){var s="",a=F.h2;return this.length>0&&(s=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(s+=" ... ")),"<Buffer "+s+">"},p.prototype.compare=function(s,a,l,v,S){if(!p.isBuffer(s))throw new TypeError("Argument must be a Buffer");if(void 0===a&&(a=0),void 0===l&&(l=s?s.length:0),void 0===v&&(v=0),void 0===S&&(S=this.length),a<0||l>s.length||v<0||S>this.length)throw new RangeError("out of range index");if(v>=S&&a>=l)return 0;if(v>=S)return-1;if(a>=l)return 1;if(this===s)return 0;for(var A=(S>>>=0)-(v>>>=0),te=(l>>>=0)-(a>>>=0),se=Math.min(A,te),ae=this.slice(v,S),_e=s.slice(a,l),le=0;le<se;++le)if(ae[le]!==_e[le]){A=ae[le],te=_e[le];break}return A<te?-1:te<A?1:0},p.prototype.includes=function(s,a,l){return-1!==this.indexOf(s,a,l)},p.prototype.indexOf=function(s,a,l){return Q(this,s,a,l,!0)},p.prototype.lastIndexOf=function(s,a,l){return Q(this,s,a,l,!1)},p.prototype.write=function(s,a,l,v){if(void 0===a)v="utf8",l=this.length,a=0;else if(void 0===l&&"string"==typeof a)v=a,l=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a|=0,isFinite(l)?(l|=0,void 0===v&&(v="utf8")):(v=l,l=void 0)}var S=this.length-a;if((void 0===l||l>S)&&(l=S),s.length>0&&(l<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(var A=!1;;)switch(v){case"hex":return E(this,s,a,l);case"utf8":case"utf-8":return _(this,s,a,l);case"ascii":return y(this,s,a,l);case"latin1":case"binary":return O(this,s,a,l);case"base64":return H(this,s,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,s,a,l);default:if(A)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),A=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ve=4096;function ue(f,s,a){var l="";a=Math.min(f.length,a);for(var v=s;v<a;++v)l+=String.fromCharCode(127&f[v]);return l}function xe(f,s,a){var l="";a=Math.min(f.length,a);for(var v=s;v<a;++v)l+=String.fromCharCode(f[v]);return l}function Z(f,s,a){var l=f.length;(!s||s<0)&&(s=0),(!a||a<0||a>l)&&(a=l);for(var v="",S=s;S<a;++S)v+=De(f[S]);return v}function K(f,s,a){for(var l=f.slice(s,a),v="",S=0;S<l.length;S+=2)v+=String.fromCharCode(l[S]+256*l[S+1]);return v}function V(f,s,a){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+s>a)throw new RangeError("Trying to access beyond buffer length")}function ie(f,s,a,l,v,S){if(!p.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>v||s<S)throw new RangeError('"value" argument is out of bounds');if(a+l>f.length)throw new RangeError("Index out of range")}function fe(f,s,a,l){s<0&&(s=65535+s+1);for(var v=0,S=Math.min(f.length-a,2);v<S;++v)f[a+v]=(s&255<<8*(l?v:1-v))>>>8*(l?v:1-v)}function ye(f,s,a,l){s<0&&(s=4294967295+s+1);for(var v=0,S=Math.min(f.length-a,4);v<S;++v)f[a+v]=s>>>8*(l?v:3-v)&255}function X(f,s,a,l,v,S){if(a+l>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function we(f,s,a,l,v){return v||X(f,0,a,4),N.write(f,s,a,l,23,4),a+4}function Ue(f,s,a,l,v){return v||X(f,0,a,8),N.write(f,s,a,l,52,8),a+8}p.prototype.slice=function(s,a){var v,l=this.length;if((s=~~s)<0?(s+=l)<0&&(s=0):s>l&&(s=l),(a=void 0===a?l:~~a)<0?(a+=l)<0&&(a=0):a>l&&(a=l),a<s&&(a=s),p.TYPED_ARRAY_SUPPORT)(v=this.subarray(s,a)).__proto__=p.prototype;else{var S=a-s;v=new p(S,void 0);for(var A=0;A<S;++A)v[A]=this[A+s]}return v},p.prototype.readUIntLE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=this[s],S=1,A=0;++A<a&&(S*=256);)v+=this[s+A]*S;return v},p.prototype.readUIntBE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=this[s+--a],S=1;a>0&&(S*=256);)v+=this[s+--a]*S;return v},p.prototype.readUInt8=function(s,a){return a||V(s,1,this.length),this[s]},p.prototype.readUInt16LE=function(s,a){return a||V(s,2,this.length),this[s]|this[s+1]<<8},p.prototype.readUInt16BE=function(s,a){return a||V(s,2,this.length),this[s]<<8|this[s+1]},p.prototype.readUInt32LE=function(s,a){return a||V(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},p.prototype.readUInt32BE=function(s,a){return a||V(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},p.prototype.readIntLE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=this[s],S=1,A=0;++A<a&&(S*=256);)v+=this[s+A]*S;return v>=(S*=128)&&(v-=Math.pow(2,8*a)),v},p.prototype.readIntBE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=a,S=1,A=this[s+--v];v>0&&(S*=256);)A+=this[s+--v]*S;return A>=(S*=128)&&(A-=Math.pow(2,8*a)),A},p.prototype.readInt8=function(s,a){return a||V(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},p.prototype.readInt16LE=function(s,a){a||V(s,2,this.length);var l=this[s]|this[s+1]<<8;return 32768&l?4294901760|l:l},p.prototype.readInt16BE=function(s,a){a||V(s,2,this.length);var l=this[s+1]|this[s]<<8;return 32768&l?4294901760|l:l},p.prototype.readInt32LE=function(s,a){return a||V(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},p.prototype.readInt32BE=function(s,a){return a||V(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},p.prototype.readFloatLE=function(s,a){return a||V(s,4,this.length),N.read(this,s,!0,23,4)},p.prototype.readFloatBE=function(s,a){return a||V(s,4,this.length),N.read(this,s,!1,23,4)},p.prototype.readDoubleLE=function(s,a){return a||V(s,8,this.length),N.read(this,s,!0,52,8)},p.prototype.readDoubleBE=function(s,a){return a||V(s,8,this.length),N.read(this,s,!1,52,8)},p.prototype.writeUIntLE=function(s,a,l,v){s=+s,a|=0,l|=0,v||ie(this,s,a,l,Math.pow(2,8*l)-1,0);var A=1,te=0;for(this[a]=255&s;++te<l&&(A*=256);)this[a+te]=s/A&255;return a+l},p.prototype.writeUIntBE=function(s,a,l,v){s=+s,a|=0,l|=0,v||ie(this,s,a,l,Math.pow(2,8*l)-1,0);var A=l-1,te=1;for(this[a+A]=255&s;--A>=0&&(te*=256);)this[a+A]=s/te&255;return a+l},p.prototype.writeUInt8=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,1,255,0),p.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),this[a]=255&s,a+1},p.prototype.writeUInt16LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):fe(this,s,a,!0),a+2},p.prototype.writeUInt16BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):fe(this,s,a,!1),a+2},p.prototype.writeUInt32LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=255&s):ye(this,s,a,!0),a+4},p.prototype.writeUInt32BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):ye(this,s,a,!1),a+4},p.prototype.writeIntLE=function(s,a,l,v){if(s=+s,a|=0,!v){var S=Math.pow(2,8*l-1);ie(this,s,a,l,S-1,-S)}var A=0,te=1,se=0;for(this[a]=255&s;++A<l&&(te*=256);)s<0&&0===se&&0!==this[a+A-1]&&(se=1),this[a+A]=(s/te>>0)-se&255;return a+l},p.prototype.writeIntBE=function(s,a,l,v){if(s=+s,a|=0,!v){var S=Math.pow(2,8*l-1);ie(this,s,a,l,S-1,-S)}var A=l-1,te=1,se=0;for(this[a+A]=255&s;--A>=0&&(te*=256);)s<0&&0===se&&0!==this[a+A+1]&&(se=1),this[a+A]=(s/te>>0)-se&255;return a+l},p.prototype.writeInt8=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,1,127,-128),p.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),s<0&&(s=255+s+1),this[a]=255&s,a+1},p.prototype.writeInt16LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):fe(this,s,a,!0),a+2},p.prototype.writeInt16BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):fe(this,s,a,!1),a+2},p.prototype.writeInt32LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24):ye(this,s,a,!0),a+4},p.prototype.writeInt32BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):ye(this,s,a,!1),a+4},p.prototype.writeFloatLE=function(s,a,l){return we(this,s,a,!0,l)},p.prototype.writeFloatBE=function(s,a,l){return we(this,s,a,!1,l)},p.prototype.writeDoubleLE=function(s,a,l){return Ue(this,s,a,!0,l)},p.prototype.writeDoubleBE=function(s,a,l){return Ue(this,s,a,!1,l)},p.prototype.copy=function(s,a,l,v){if(l||(l=0),!v&&0!==v&&(v=this.length),a>=s.length&&(a=s.length),a||(a=0),v>0&&v<l&&(v=l),v===l||0===s.length||0===this.length)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("sourceStart out of bounds");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),s.length-a<v-l&&(v=s.length-a+l);var A,S=v-l;if(this===s&&l<a&&a<v)for(A=S-1;A>=0;--A)s[A+a]=this[A+l];else if(S<1e3||!p.TYPED_ARRAY_SUPPORT)for(A=0;A<S;++A)s[A+a]=this[A+l];else Uint8Array.prototype.set.call(s,this.subarray(l,l+S),a);return S},p.prototype.fill=function(s,a,l,v){if("string"==typeof s){if("string"==typeof a?(v=a,a=0,l=this.length):"string"==typeof l&&(v=l,l=this.length),1===s.length){var S=s.charCodeAt(0);S<256&&(s=S)}if(void 0!==v&&"string"!=typeof v)throw new TypeError("encoding must be a string");if("string"==typeof v&&!p.isEncoding(v))throw new TypeError("Unknown encoding: "+v)}else"number"==typeof s&&(s&=255);if(a<0||this.length<a||this.length<l)throw new RangeError("Out of range index");if(l<=a)return this;var A;if(a>>>=0,l=void 0===l?this.length:l>>>0,s||(s=0),"number"==typeof s)for(A=a;A<l;++A)this[A]=s;else{var te=p.isBuffer(s)?s:Ee(new p(s,v).toString()),se=te.length;for(A=0;A<l-a;++A)this[A+a]=te[A%se]}return this};var Te=/[^+\/0-9A-Za-z-_]/g;function De(f){return f<16?"0"+f.toString(16):f.toString(16)}function Ee(f,s){s=s||1/0;for(var a,l=f.length,v=null,S=[],A=0;A<l;++A){if((a=f.charCodeAt(A))>55295&&a<57344){if(!v){if(a>56319){(s-=3)>-1&&S.push(239,191,189);continue}if(A+1===l){(s-=3)>-1&&S.push(239,191,189);continue}v=a;continue}if(a<56320){(s-=3)>-1&&S.push(239,191,189),v=a;continue}a=65536+(v-55296<<10|a-56320)}else v&&(s-=3)>-1&&S.push(239,191,189);if(v=null,a<128){if((s-=1)<0)break;S.push(a)}else if(a<2048){if((s-=2)<0)break;S.push(a>>6|192,63&a|128)}else if(a<65536){if((s-=3)<0)break;S.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;S.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return S}function Qe(f){return ee.toByteArray(function Re(f){if((f=function Oe(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}(f).replace(Te,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(f))}function Ye(f,s,a,l){for(var v=0;v<l&&!(v+a>=s.length||v>=f.length);++v)s[v+a]=f[v];return v}},5432:function(pe,F,I){var D;pe=I.nmd(pe),function(ee){"object"==typeof global&&global;var m,U=2147483647,p=36,T=1,q=26,L=38,Y=700,k=72,J=128,re="-",oe=/^xn--/,Se=/[^\x20-\x7E]/,Ae=/[\x2E\u3002\uFF0E\uFF61]/g,Ce={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pe=p-T,de=Math.floor,Q=String.fromCharCode;function E(Z){throw RangeError(Ce[Z])}function _(Z,K){for(var V=Z.length,ie=[];V--;)ie[V]=K(Z[V]);return ie}function y(Z,K){var V=Z.split("@"),ie="";return V.length>1&&(ie=V[0]+"@",Z=V[1]),ie+_((Z=Z.replace(Ae,".")).split("."),K).join(".")}function O(Z){for(var fe,ye,K=[],V=0,ie=Z.length;V<ie;)(fe=Z.charCodeAt(V++))>=55296&&fe<=56319&&V<ie?56320==(64512&(ye=Z.charCodeAt(V++)))?K.push(((1023&fe)<<10)+(1023&ye)+65536):(K.push(fe),V--):K.push(fe);return K}function H(Z){return _(Z,function(K){var V="";return K>65535&&(V+=Q((K-=65536)>>>10&1023|55296),K=56320|1023&K),V+Q(K)}).join("")}function z(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:p}function P(Z,K){return Z+22+75*(Z<26)-((0!=K)<<5)}function j(Z,K,V){var ie=0;for(Z=V?de(Z/Y):Z>>1,Z+=de(Z/K);Z>Pe*q>>1;ie+=p)Z=de(Z/Pe);return de(ie+(Pe+1)*Z/(Z+L))}function ve(Z){var ie,we,Ue,Te,Re,Oe,De,Ee,je,Ge,K=[],V=Z.length,fe=0,ye=J,X=k;for((we=Z.lastIndexOf(re))<0&&(we=0),Ue=0;Ue<we;++Ue)Z.charCodeAt(Ue)>=128&&E("not-basic"),K.push(Z.charCodeAt(Ue));for(Te=we>0?we+1:0;Te<V;){for(Re=fe,Oe=1,De=p;Te>=V&&E("invalid-input"),((Ee=z(Z.charCodeAt(Te++)))>=p||Ee>de((U-fe)/Oe))&&E("overflow"),fe+=Ee*Oe,!(Ee<(je=De<=X?T:De>=X+q?q:De-X));De+=p)Oe>de(U/(Ge=p-je))&&E("overflow"),Oe*=Ge;X=j(fe-Re,ie=K.length+1,0==Re),de(fe/ie)>U-ye&&E("overflow"),ye+=de(fe/ie),fe%=ie,K.splice(fe++,0,ye)}return H(K)}function me(Z){var K,V,ie,fe,ye,X,we,Ue,Te,Re,Oe,Ee,je,Ge,Qe,De=[];for(Ee=(Z=O(Z)).length,K=J,V=0,ye=k,X=0;X<Ee;++X)(Oe=Z[X])<128&&De.push(Q(Oe));for(ie=fe=De.length,fe&&De.push(re);ie<Ee;){for(we=U,X=0;X<Ee;++X)(Oe=Z[X])>=K&&Oe<we&&(we=Oe);for(we-K>de((U-V)/(je=ie+1))&&E("overflow"),V+=(we-K)*je,K=we,X=0;X<Ee;++X)if((Oe=Z[X])<K&&++V>U&&E("overflow"),Oe==K){for(Ue=V,Te=p;!(Ue<(Re=Te<=ye?T:Te>=ye+q?q:Te-ye));Te+=p)De.push(Q(P(Re+(Qe=Ue-Re)%(Ge=p-Re),0))),Ue=de(Qe/Ge);De.push(Q(P(Ue,0))),ye=j(V,je,ie==fe),V=0,++ie}++V,++K}return De.join("")}m={version:"1.3.2",ucs2:{decode:O,encode:H},decode:ve,encode:me,toASCII:function xe(Z){return y(Z,function(K){return Se.test(K)?"xn--"+me(K):K})},toUnicode:function ue(Z){return y(Z,function(K){return oe.test(K)?ve(K.slice(4).toLowerCase()):K})}},void 0!==(D=function(){return m}.call(F,I,F,pe))&&(pe.exports=D)}()},160:(pe,F,I)=>{"use strict";var ee=I(5432),N=I(7463);function R(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}F.Qc=Pe;var ne=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,U=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,T=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),q=["'"].concat(T),L=["%","/","?",";","#"].concat(q),Y=["/","?","#"],J=/^[+a-z0-9A-Z_-]{0,63}$/,re=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,oe={javascript:!0,"javascript:":!0},Se={javascript:!0,"javascript:":!0},Ae={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ce=I(7137);function Pe(E,_,y){if(E&&N.isObject(E)&&E instanceof R)return E;var O=new R;return O.parse(E,_,y),O}R.prototype.parse=function(E,_,y){if(!N.isString(E))throw new TypeError("Parameter 'url' must be a string, not "+typeof E);var O=E.indexOf("?"),H=-1!==O&&O<E.indexOf("#")?"?":"#",z=E.split(H);z[0]=z[0].replace(/\\/g,"/");var j=E=z.join(H);if(j=j.trim(),!y&&1===E.split("#").length){var ve=U.exec(j);if(ve)return this.path=j,this.href=j,this.pathname=ve[1],ve[2]?(this.search=ve[2],this.query=_?Ce.parse(this.search.substr(1)):this.search.substr(1)):_&&(this.search="",this.query={}),this}var me=ne.exec(j);if(me){var ue=(me=me[0]).toLowerCase();this.protocol=ue,j=j.substr(me.length)}if(y||me||j.match(/^\/\/[^@\/]+@[^@\/]+/)){var xe="//"===j.substr(0,2);xe&&(!me||!Se[me])&&(j=j.substr(2),this.slashes=!0)}if(!Se[me]&&(xe||me&&!Ae[me])){for(var Z=-1,K=0;K<Y.length;K++)-1!==(V=j.indexOf(Y[K]))&&(-1===Z||V<Z)&&(Z=V);var ie,fe;for(-1!==(fe=-1===Z?j.lastIndexOf("@"):j.lastIndexOf("@",Z))&&(ie=j.slice(0,fe),j=j.slice(fe+1),this.auth=decodeURIComponent(ie)),Z=-1,K=0;K<L.length;K++){var V;-1!==(V=j.indexOf(L[K]))&&(-1===Z||V<Z)&&(Z=V)}-1===Z&&(Z=j.length),this.host=j.slice(0,Z),j=j.slice(Z),this.parseHost(),this.hostname=this.hostname||"";var ye="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ye)for(var X=this.hostname.split(/\./),we=(K=0,X.length);K<we;K++){var Ue=X[K];if(Ue&&!Ue.match(J)){for(var Te="",Re=0,Oe=Ue.length;Re<Oe;Re++)Ue.charCodeAt(Re)>127?Te+="x":Te+=Ue[Re];if(!Te.match(J)){var De=X.slice(0,K),Ee=X.slice(K+1),je=Ue.match(re);je&&(De.push(je[1]),Ee.unshift(je[2])),Ee.length&&(j="/"+Ee.join(".")+j),this.hostname=De.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),ye||(this.hostname=ee.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,ye&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==j[0]&&(j="/"+j))}if(!oe[ue])for(K=0,we=q.length;K<we;K++){var Ye=q[K];if(-1!==j.indexOf(Ye)){var We=encodeURIComponent(Ye);We===Ye&&(We=escape(Ye)),j=j.split(Ye).join(We)}}var f=j.indexOf("#");-1!==f&&(this.hash=j.substr(f),j=j.slice(0,f));var s=j.indexOf("?");return-1!==s?(this.search=j.substr(s),this.query=j.substr(s+1),_&&(this.query=Ce.parse(this.query)),j=j.slice(0,s)):_&&(this.search="",this.query={}),j&&(this.pathname=j),Ae[ue]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},R.prototype.format=function(){var E=this.auth||"";E&&(E=(E=encodeURIComponent(E)).replace(/%3A/i,":"),E+="@");var _=this.protocol||"",y=this.pathname||"",O=this.hash||"",H=!1,z="";this.host?H=E+this.host:this.hostname&&(H=E+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(H+=":"+this.port)),this.query&&N.isObject(this.query)&&Object.keys(this.query).length&&(z=Ce.stringify(this.query));var P=this.search||z&&"?"+z||"";return _&&":"!==_.substr(-1)&&(_+=":"),this.slashes||(!_||Ae[_])&&!1!==H?(H="//"+(H||""),y&&"/"!==y.charAt(0)&&(y="/"+y)):H||(H=""),O&&"#"!==O.charAt(0)&&(O="#"+O),P&&"?"!==P.charAt(0)&&(P="?"+P),_+H+(y=y.replace(/[?#]/g,function(j){return encodeURIComponent(j)}))+(P=P.replace("#","%23"))+O},R.prototype.resolve=function(E){return this.resolveObject(Pe(E,!1,!0)).format()},R.prototype.resolveObject=function(E){if(N.isString(E)){var _=new R;_.parse(E,!1,!0),E=_}for(var y=new R,O=Object.keys(this),H=0;H<O.length;H++){var z=O[H];y[z]=this[z]}if(y.hash=E.hash,""===E.href)return y.href=y.format(),y;if(E.slashes&&!E.protocol){for(var P=Object.keys(E),j=0;j<P.length;j++){var ve=P[j];"protocol"!==ve&&(y[ve]=E[ve])}return Ae[y.protocol]&&y.hostname&&!y.pathname&&(y.path=y.pathname="/"),y.href=y.format(),y}if(E.protocol&&E.protocol!==y.protocol){if(!Ae[E.protocol]){for(var me=Object.keys(E),ue=0;ue<me.length;ue++){var xe=me[ue];y[xe]=E[xe]}return y.href=y.format(),y}if(y.protocol=E.protocol,E.host||Se[E.protocol])y.pathname=E.pathname;else{for(var we=(E.pathname||"").split("/");we.length&&!(E.host=we.shift()););E.host||(E.host=""),E.hostname||(E.hostname=""),""!==we[0]&&we.unshift(""),we.length<2&&we.unshift(""),y.pathname=we.join("/")}return y.search=E.search,y.query=E.query,y.host=E.host||"",y.auth=E.auth,y.hostname=E.hostname||E.host,y.port=E.port,(y.pathname||y.search)&&(y.path=(y.pathname||"")+(y.search||"")),y.slashes=y.slashes||E.slashes,y.href=y.format(),y}var V=y.pathname&&"/"===y.pathname.charAt(0),ie=E.host||E.pathname&&"/"===E.pathname.charAt(0),fe=ie||V||y.host&&E.pathname,ye=fe,X=y.pathname&&y.pathname.split("/")||[],Ue=(we=E.pathname&&E.pathname.split("/")||[],y.protocol&&!Ae[y.protocol]);if(Ue&&(y.hostname="",y.port=null,y.host&&(""===X[0]?X[0]=y.host:X.unshift(y.host)),y.host="",E.protocol&&(E.hostname=null,E.port=null,E.host&&(""===we[0]?we[0]=E.host:we.unshift(E.host)),E.host=null),fe=fe&&(""===we[0]||""===X[0])),ie)y.host=E.host||""===E.host?E.host:y.host,y.hostname=E.hostname||""===E.hostname?E.hostname:y.hostname,y.search=E.search,y.query=E.query,X=we;else if(we.length)X||(X=[]),X.pop(),X=X.concat(we),y.search=E.search,y.query=E.query;else if(!N.isNullOrUndefined(E.search))return Ue&&(y.hostname=y.host=X.shift(),(Te=!!(y.host&&y.host.indexOf("@")>0)&&y.host.split("@"))&&(y.auth=Te.shift(),y.host=y.hostname=Te.shift())),y.search=E.search,y.query=E.query,(!N.isNull(y.pathname)||!N.isNull(y.search))&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.href=y.format(),y;if(!X.length)return y.pathname=null,y.path=y.search?"/"+y.search:null,y.href=y.format(),y;for(var Re=X.slice(-1)[0],Oe=(y.host||E.host||X.length>1)&&("."===Re||".."===Re)||""===Re,De=0,Ee=X.length;Ee>=0;Ee--)"."===(Re=X[Ee])?X.splice(Ee,1):".."===Re?(X.splice(Ee,1),De++):De&&(X.splice(Ee,1),De--);if(!fe&&!ye)for(;De--;De)X.unshift("..");fe&&""!==X[0]&&(!X[0]||"/"!==X[0].charAt(0))&&X.unshift(""),Oe&&"/"!==X.join("/").substr(-1)&&X.push("");var Te,je=""===X[0]||X[0]&&"/"===X[0].charAt(0);return Ue&&(y.hostname=y.host=je?"":X.length?X.shift():"",(Te=!!(y.host&&y.host.indexOf("@")>0)&&y.host.split("@"))&&(y.auth=Te.shift(),y.host=y.hostname=Te.shift())),(fe=fe||y.host&&X.length)&&!je&&X.unshift(""),X.length?y.pathname=X.join("/"):(y.pathname=null,y.path=null),(!N.isNull(y.pathname)||!N.isNull(y.search))&&(y.path=(y.pathname?y.pathname:"")+(y.search?y.search:"")),y.auth=E.auth||y.auth,y.slashes=y.slashes||E.slashes,y.href=y.format(),y},R.prototype.parseHost=function(){var E=this.host,_=m.exec(E);_&&(":"!==(_=_[0])&&(this.port=_.substr(1)),E=E.substr(0,E.length-_.length)),E&&(this.hostname=E)}},7463:pe=>{"use strict";pe.exports={isString:function(F){return"string"==typeof F},isObject:function(F){return"object"==typeof F&&null!==F},isNull:function(F){return null===F},isNullOrUndefined:function(F){return null==F}}},6516:(pe,F,I)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.RawSha256=void 0;var D=I(4022),ee=function(){function N(){this.state=Int32Array.from(D.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return N.prototype.update=function(R){if(this.finished)throw new Error("Attempted to update an already finished hash.");var ne=0,m=R.byteLength;if(this.bytesHashed+=m,8*this.bytesHashed>D.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;m>0;)this.buffer[this.bufferLength++]=R[ne++],m--,this.bufferLength===D.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},N.prototype.digest=function(){if(!this.finished){var R=8*this.bytesHashed,ne=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),m=this.bufferLength;if(ne.setUint8(this.bufferLength++,128),m%D.BLOCK_SIZE>=D.BLOCK_SIZE-8){for(var U=this.bufferLength;U<D.BLOCK_SIZE;U++)ne.setUint8(U,0);this.hashBuffer(),this.bufferLength=0}for(U=this.bufferLength;U<D.BLOCK_SIZE-8;U++)ne.setUint8(U,0);ne.setUint32(D.BLOCK_SIZE-8,Math.floor(R/4294967296),!0),ne.setUint32(D.BLOCK_SIZE-4,R),this.hashBuffer(),this.finished=!0}var p=new Uint8Array(D.DIGEST_LENGTH);for(U=0;U<8;U++)p[4*U]=this.state[U]>>>24&255,p[4*U+1]=this.state[U]>>>16&255,p[4*U+2]=this.state[U]>>>8&255,p[4*U+3]=this.state[U]>>>0&255;return p},N.prototype.hashBuffer=function(){for(var ne=this.buffer,m=this.state,U=m[0],p=m[1],T=m[2],q=m[3],L=m[4],Y=m[5],k=m[6],J=m[7],re=0;re<D.BLOCK_SIZE;re++){if(re<16)this.temp[re]=(255&ne[4*re])<<24|(255&ne[4*re+1])<<16|(255&ne[4*re+2])<<8|255&ne[4*re+3];else{var oe=this.temp[re-2];this.temp[re]=(((oe>>>17|oe<<15)^(oe>>>19|oe<<13)^oe>>>10)+this.temp[re-7]|0)+((((oe=this.temp[re-15])>>>7|oe<<25)^(oe>>>18|oe<<14)^oe>>>3)+this.temp[re-16]|0)}var Ce=(((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&Y^~L&k)|0)+(J+(D.KEY[re]+this.temp[re]|0)|0)|0,Pe=((U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10))+(U&p^U&T^p&T)|0;J=k,k=Y,Y=L,L=q+Ce|0,q=T,T=p,p=U,U=Ce+Pe|0}m[0]+=U,m[1]+=p,m[2]+=T,m[3]+=q,m[4]+=L,m[5]+=Y,m[6]+=k,m[7]+=J},N}();F.RawSha256=ee},4022:(pe,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.MAX_HASHABLE_LENGTH=F.INIT=F.KEY=F.DIGEST_LENGTH=F.BLOCK_SIZE=void 0,F.BLOCK_SIZE=64,F.DIGEST_LENGTH=32,F.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),F.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],F.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},4578:(pe,F,I)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),(0,I(3541).__exportStar)(I(3039),F)},3039:(pe,F,I)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Sha256=void 0;var D=I(3541),ee=I(4022),N=I(6516),R=I(7736),ne=function(){function U(p){if(this.hash=new N.RawSha256,p){this.outer=new N.RawSha256;var T=function m(U){var p=(0,R.convertToBuffer)(U);if(p.byteLength>ee.BLOCK_SIZE){var T=new N.RawSha256;T.update(p),p=T.digest()}var q=new Uint8Array(ee.BLOCK_SIZE);return q.set(p),q}(p),q=new Uint8Array(ee.BLOCK_SIZE);q.set(T);for(var L=0;L<ee.BLOCK_SIZE;L++)T[L]^=54,q[L]^=92;for(this.hash.update(T),this.outer.update(q),L=0;L<T.byteLength;L++)T[L]=0}}return U.prototype.update=function(p){if(!(0,R.isEmptyData)(p)&&!this.error)try{this.hash.update((0,R.convertToBuffer)(p))}catch(T){this.error=T}},U.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},U.prototype.digest=function(){return(0,D.__awaiter)(this,void 0,void 0,function(){return(0,D.__generator)(this,function(p){return[2,this.digestSync()]})})},U}();F.Sha256=ne},2862:(pe,F,I)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.convertToBuffer=void 0;var D=I(2622),ee=typeof Buffer<"u"&&Buffer.from?function(R){return Buffer.from(R,"utf8")}:D.fromUtf8;F.convertToBuffer=function N(R){return R instanceof Uint8Array?R:"string"==typeof R?ee(R):ArrayBuffer.isView(R)?new Uint8Array(R.buffer,R.byteOffset,R.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(R)}},7736:(pe,F,I)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.uint32ArrayFrom=F.numToUint8=F.isEmptyData=F.convertToBuffer=void 0;var D=I(2862);Object.defineProperty(F,"convertToBuffer",{enumerable:!0,get:function(){return D.convertToBuffer}});var ee=I(5516);Object.defineProperty(F,"isEmptyData",{enumerable:!0,get:function(){return ee.isEmptyData}});var N=I(5183);Object.defineProperty(F,"numToUint8",{enumerable:!0,get:function(){return N.numToUint8}});var R=I(6777);Object.defineProperty(F,"uint32ArrayFrom",{enumerable:!0,get:function(){return R.uint32ArrayFrom}})},5516:(pe,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.isEmptyData=void 0,F.isEmptyData=function I(D){return"string"==typeof D?0===D.length:0===D.byteLength}},5183:(pe,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.numToUint8=void 0,F.numToUint8=function I(D){return new Uint8Array([(4278190080&D)>>24,(16711680&D)>>16,(65280&D)>>8,255&D])}},6777:(pe,F)=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.uint32ArrayFrom=void 0,F.uint32ArrayFrom=function I(D){if(!Array.from){for(var ee=new Uint32Array(D.length);0<D.length;)ee[0]=D[0];return ee}return Uint32Array.from(D)}},2622:(pe,F,I)=>{"use strict";I.r(F),I.d(F,{fromUtf8:()=>ne,toUtf8:()=>m});var ne=function(U){return"function"==typeof TextEncoder?function N(U){return(new TextEncoder).encode(U)}(U):function(U){for(var p=[],T=0,q=U.length;T<q;T++){var L=U.charCodeAt(T);if(L<128)p.push(L);else if(L<2048)p.push(L>>6|192,63&L|128);else if(T+1<U.length&&55296==(64512&L)&&56320==(64512&U.charCodeAt(T+1))){var Y=65536+((1023&L)<<10)+(1023&U.charCodeAt(++T));p.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,63&Y|128)}else p.push(L>>12|224,L>>6&63|128,63&L|128)}return Uint8Array.from(p)}(U)},m=function(U){return"function"==typeof TextDecoder?function R(U){return new TextDecoder("utf-8").decode(U)}(U):function(U){for(var p="",T=0,q=U.length;T<q;T++){var L=U[T];if(L<128)p+=String.fromCharCode(L);else if(192<=L&&L<224){var Y=U[++T];p+=String.fromCharCode((31&L)<<6|63&Y)}else if(240<=L&&L<365){var J="%"+[L,U[++T],U[++T],U[++T]].map(function(re){return re.toString(16)}).join("%");p+=decodeURIComponent(J)}else p+=String.fromCharCode((15&L)<<12|(63&U[++T])<<6|63&U[++T])}return p}(U)}},7592:(pe,F,I)=>{"use strict";var ee=I(5343),N=I(8461),R=I(6425);function m(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function U(f,s){if(m()<s)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(f=new Uint8Array(s)).__proto__=p.prototype:(null===f&&(f=new p(s)),f.length=s),f}function p(f,s,a){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(f,s,a);if("number"==typeof f){if("string"==typeof s)throw new Error("If encoding is specified then the first argument must be a string");return Y(this,f)}return T(this,f,s,a)}function T(f,s,a,l){if("number"==typeof s)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer?function re(f,s,a,l){if(a<0||s.byteLength<a)throw new RangeError("'offset' is out of bounds");if(s.byteLength<a+(l||0))throw new RangeError("'length' is out of bounds");return s=void 0===a&&void 0===l?new Uint8Array(s):void 0===l?new Uint8Array(s,a):new Uint8Array(s,a,l),p.TYPED_ARRAY_SUPPORT?(f=s).__proto__=p.prototype:f=J(f,s),f}(f,s,a,l):"string"==typeof s?function k(f,s,a){if(("string"!=typeof a||""===a)&&(a="utf8"),!p.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var l=0|Ce(s,a),v=(f=U(f,l)).write(s,a);return v!==l&&(f=f.slice(0,v)),f}(f,s,a):function oe(f,s){if(p.isBuffer(s)){var a=0|Se(s.length);return 0===(f=U(f,a)).length||s.copy(f,0,0,a),f}if(s){if(typeof ArrayBuffer<"u"&&s.buffer instanceof ArrayBuffer||"length"in s)return"number"!=typeof s.length||function We(f){return f!=f}(s.length)?U(f,0):J(f,s);if("Buffer"===s.type&&R(s.data))return J(f,s.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(f,s)}function q(f){if("number"!=typeof f)throw new TypeError('"size" argument must be a number');if(f<0)throw new RangeError('"size" argument must not be negative')}function Y(f,s){if(q(s),f=U(f,s<0?0:0|Se(s)),!p.TYPED_ARRAY_SUPPORT)for(var a=0;a<s;++a)f[a]=0;return f}function J(f,s){var a=s.length<0?0:0|Se(s.length);f=U(f,a);for(var l=0;l<a;l+=1)f[l]=255&s[l];return f}function Se(f){if(f>=m())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m().toString(16)+" bytes");return 0|f}function Ce(f,s){if(p.isBuffer(f))return f.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(f)||f instanceof ArrayBuffer))return f.byteLength;"string"!=typeof f&&(f=""+f);var a=f.length;if(0===a)return 0;for(var l=!1;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return Ee(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return Qe(f).length;default:if(l)return Ee(f).length;s=(""+s).toLowerCase(),l=!0}}function Pe(f,s,a){var l=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===a||a>this.length)&&(a=this.length),a<=0)||(a>>>=0)<=(s>>>=0))return"";for(f||(f="utf8");;)switch(f){case"hex":return Z(this,s,a);case"utf8":case"utf-8":return j(this,s,a);case"ascii":return ue(this,s,a);case"latin1":case"binary":return xe(this,s,a);case"base64":return P(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,s,a);default:if(l)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),l=!0}}function de(f,s,a){var l=f[s];f[s]=f[a],f[a]=l}function Q(f,s,a,l,v){if(0===f.length)return-1;if("string"==typeof a?(l=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,isNaN(a)&&(a=v?0:f.length-1),a<0&&(a=f.length+a),a>=f.length){if(v)return-1;a=f.length-1}else if(a<0){if(!v)return-1;a=0}if("string"==typeof s&&(s=p.from(s,l)),p.isBuffer(s))return 0===s.length?-1:Fe(f,s,a,l,v);if("number"==typeof s)return s&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?v?Uint8Array.prototype.indexOf.call(f,s,a):Uint8Array.prototype.lastIndexOf.call(f,s,a):Fe(f,[s],a,l,v);throw new TypeError("val must be string, number or Buffer")}function Fe(f,s,a,l,v){var ae,S=1,A=f.length,te=s.length;if(void 0!==l&&("ucs2"===(l=String(l).toLowerCase())||"ucs-2"===l||"utf16le"===l||"utf-16le"===l)){if(f.length<2||s.length<2)return-1;S=2,A/=2,te/=2,a/=2}function se(nt,at){return 1===S?nt[at]:nt.readUInt16BE(at*S)}if(v){var _e=-1;for(ae=a;ae<A;ae++)if(se(f,ae)===se(s,-1===_e?0:ae-_e)){if(-1===_e&&(_e=ae),ae-_e+1===te)return _e*S}else-1!==_e&&(ae-=ae-_e),_e=-1}else for(a+te>A&&(a=A-te),ae=a;ae>=0;ae--){for(var le=!0,Xe=0;Xe<te;Xe++)if(se(f,ae+Xe)!==se(s,Xe)){le=!1;break}if(le)return ae}return-1}function E(f,s,a,l){a=Number(a)||0;var v=f.length-a;l?(l=Number(l))>v&&(l=v):l=v;var S=s.length;if(S%2!=0)throw new TypeError("Invalid hex string");l>S/2&&(l=S/2);for(var A=0;A<l;++A){var te=parseInt(s.substr(2*A,2),16);if(isNaN(te))return A;f[a+A]=te}return A}function _(f,s,a,l){return Ye(Ee(s,f.length-a),f,a,l)}function y(f,s,a,l){return Ye(function je(f){for(var s=[],a=0;a<f.length;++a)s.push(255&f.charCodeAt(a));return s}(s),f,a,l)}function O(f,s,a,l){return y(f,s,a,l)}function H(f,s,a,l){return Ye(Qe(s),f,a,l)}function z(f,s,a,l){return Ye(function Ge(f,s){for(var a,l,S=[],A=0;A<f.length&&!((s-=2)<0);++A)l=(a=f.charCodeAt(A))>>8,S.push(a%256),S.push(l);return S}(s,f.length-a),f,a,l)}function P(f,s,a){return ee.fromByteArray(0===s&&a===f.length?f:f.slice(s,a))}function j(f,s,a){a=Math.min(f.length,a);for(var l=[],v=s;v<a;){var se,ae,_e,le,S=f[v],A=null,te=S>239?4:S>223?3:S>191?2:1;if(v+te<=a)switch(te){case 1:S<128&&(A=S);break;case 2:128==(192&(se=f[v+1]))&&(le=(31&S)<<6|63&se)>127&&(A=le);break;case 3:ae=f[v+2],128==(192&(se=f[v+1]))&&128==(192&ae)&&(le=(15&S)<<12|(63&se)<<6|63&ae)>2047&&(le<55296||le>57343)&&(A=le);break;case 4:ae=f[v+2],_e=f[v+3],128==(192&(se=f[v+1]))&&128==(192&ae)&&128==(192&_e)&&(le=(15&S)<<18|(63&se)<<12|(63&ae)<<6|63&_e)>65535&&le<1114112&&(A=le)}null===A?(A=65533,te=1):A>65535&&(l.push((A-=65536)>>>10&1023|55296),A=56320|1023&A),l.push(A),v+=te}return function me(f){var s=f.length;if(s<=ve)return String.fromCharCode.apply(String,f);for(var a="",l=0;l<s;)a+=String.fromCharCode.apply(String,f.slice(l,l+=ve));return a}(l)}F.lW=p,F.h2=50,p.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function ne(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===f.foo()&&"function"==typeof f.subarray&&0===f.subarray(1,1).byteLength}catch{return!1}}(),m(),p.poolSize=8192,p._augment=function(f){return f.__proto__=p.prototype,f},p.from=function(f,s,a){return T(null,f,s,a)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(f,s,a){return function L(f,s,a,l){return q(s),s<=0?U(f,s):void 0!==a?"string"==typeof l?U(f,s).fill(a,l):U(f,s).fill(a):U(f,s)}(null,f,s,a)},p.allocUnsafe=function(f){return Y(null,f)},p.allocUnsafeSlow=function(f){return Y(null,f)},p.isBuffer=function(s){return!(null==s||!s._isBuffer)},p.compare=function(s,a){if(!p.isBuffer(s)||!p.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(s===a)return 0;for(var l=s.length,v=a.length,S=0,A=Math.min(l,v);S<A;++S)if(s[S]!==a[S]){l=s[S],v=a[S];break}return l<v?-1:v<l?1:0},p.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(s,a){if(!R(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return p.alloc(0);var l;if(void 0===a)for(a=0,l=0;l<s.length;++l)a+=s[l].length;var v=p.allocUnsafe(a),S=0;for(l=0;l<s.length;++l){var A=s[l];if(!p.isBuffer(A))throw new TypeError('"list" argument must be an Array of Buffers');A.copy(v,S),S+=A.length}return v},p.byteLength=Ce,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<s;a+=2)de(this,a,a+1);return this},p.prototype.swap32=function(){var s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<s;a+=4)de(this,a,a+3),de(this,a+1,a+2);return this},p.prototype.swap64=function(){var s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<s;a+=8)de(this,a,a+7),de(this,a+1,a+6),de(this,a+2,a+5),de(this,a+3,a+4);return this},p.prototype.toString=function(){var s=0|this.length;return 0===s?"":0===arguments.length?j(this,0,s):Pe.apply(this,arguments)},p.prototype.equals=function(s){if(!p.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===p.compare(this,s)},p.prototype.inspect=function(){var s="",a=F.h2;return this.length>0&&(s=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(s+=" ... ")),"<Buffer "+s+">"},p.prototype.compare=function(s,a,l,v,S){if(!p.isBuffer(s))throw new TypeError("Argument must be a Buffer");if(void 0===a&&(a=0),void 0===l&&(l=s?s.length:0),void 0===v&&(v=0),void 0===S&&(S=this.length),a<0||l>s.length||v<0||S>this.length)throw new RangeError("out of range index");if(v>=S&&a>=l)return 0;if(v>=S)return-1;if(a>=l)return 1;if(this===s)return 0;for(var A=(S>>>=0)-(v>>>=0),te=(l>>>=0)-(a>>>=0),se=Math.min(A,te),ae=this.slice(v,S),_e=s.slice(a,l),le=0;le<se;++le)if(ae[le]!==_e[le]){A=ae[le],te=_e[le];break}return A<te?-1:te<A?1:0},p.prototype.includes=function(s,a,l){return-1!==this.indexOf(s,a,l)},p.prototype.indexOf=function(s,a,l){return Q(this,s,a,l,!0)},p.prototype.lastIndexOf=function(s,a,l){return Q(this,s,a,l,!1)},p.prototype.write=function(s,a,l,v){if(void 0===a)v="utf8",l=this.length,a=0;else if(void 0===l&&"string"==typeof a)v=a,l=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a|=0,isFinite(l)?(l|=0,void 0===v&&(v="utf8")):(v=l,l=void 0)}var S=this.length-a;if((void 0===l||l>S)&&(l=S),s.length>0&&(l<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(var A=!1;;)switch(v){case"hex":return E(this,s,a,l);case"utf8":case"utf-8":return _(this,s,a,l);case"ascii":return y(this,s,a,l);case"latin1":case"binary":return O(this,s,a,l);case"base64":return H(this,s,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,s,a,l);default:if(A)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),A=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ve=4096;function ue(f,s,a){var l="";a=Math.min(f.length,a);for(var v=s;v<a;++v)l+=String.fromCharCode(127&f[v]);return l}function xe(f,s,a){var l="";a=Math.min(f.length,a);for(var v=s;v<a;++v)l+=String.fromCharCode(f[v]);return l}function Z(f,s,a){var l=f.length;(!s||s<0)&&(s=0),(!a||a<0||a>l)&&(a=l);for(var v="",S=s;S<a;++S)v+=De(f[S]);return v}function K(f,s,a){for(var l=f.slice(s,a),v="",S=0;S<l.length;S+=2)v+=String.fromCharCode(l[S]+256*l[S+1]);return v}function V(f,s,a){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+s>a)throw new RangeError("Trying to access beyond buffer length")}function ie(f,s,a,l,v,S){if(!p.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>v||s<S)throw new RangeError('"value" argument is out of bounds');if(a+l>f.length)throw new RangeError("Index out of range")}function fe(f,s,a,l){s<0&&(s=65535+s+1);for(var v=0,S=Math.min(f.length-a,2);v<S;++v)f[a+v]=(s&255<<8*(l?v:1-v))>>>8*(l?v:1-v)}function ye(f,s,a,l){s<0&&(s=4294967295+s+1);for(var v=0,S=Math.min(f.length-a,4);v<S;++v)f[a+v]=s>>>8*(l?v:3-v)&255}function X(f,s,a,l,v,S){if(a+l>f.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function we(f,s,a,l,v){return v||X(f,0,a,4),N.write(f,s,a,l,23,4),a+4}function Ue(f,s,a,l,v){return v||X(f,0,a,8),N.write(f,s,a,l,52,8),a+8}p.prototype.slice=function(s,a){var v,l=this.length;if((s=~~s)<0?(s+=l)<0&&(s=0):s>l&&(s=l),(a=void 0===a?l:~~a)<0?(a+=l)<0&&(a=0):a>l&&(a=l),a<s&&(a=s),p.TYPED_ARRAY_SUPPORT)(v=this.subarray(s,a)).__proto__=p.prototype;else{var S=a-s;v=new p(S,void 0);for(var A=0;A<S;++A)v[A]=this[A+s]}return v},p.prototype.readUIntLE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=this[s],S=1,A=0;++A<a&&(S*=256);)v+=this[s+A]*S;return v},p.prototype.readUIntBE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=this[s+--a],S=1;a>0&&(S*=256);)v+=this[s+--a]*S;return v},p.prototype.readUInt8=function(s,a){return a||V(s,1,this.length),this[s]},p.prototype.readUInt16LE=function(s,a){return a||V(s,2,this.length),this[s]|this[s+1]<<8},p.prototype.readUInt16BE=function(s,a){return a||V(s,2,this.length),this[s]<<8|this[s+1]},p.prototype.readUInt32LE=function(s,a){return a||V(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},p.prototype.readUInt32BE=function(s,a){return a||V(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},p.prototype.readIntLE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=this[s],S=1,A=0;++A<a&&(S*=256);)v+=this[s+A]*S;return v>=(S*=128)&&(v-=Math.pow(2,8*a)),v},p.prototype.readIntBE=function(s,a,l){s|=0,a|=0,l||V(s,a,this.length);for(var v=a,S=1,A=this[s+--v];v>0&&(S*=256);)A+=this[s+--v]*S;return A>=(S*=128)&&(A-=Math.pow(2,8*a)),A},p.prototype.readInt8=function(s,a){return a||V(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},p.prototype.readInt16LE=function(s,a){a||V(s,2,this.length);var l=this[s]|this[s+1]<<8;return 32768&l?4294901760|l:l},p.prototype.readInt16BE=function(s,a){a||V(s,2,this.length);var l=this[s+1]|this[s]<<8;return 32768&l?4294901760|l:l},p.prototype.readInt32LE=function(s,a){return a||V(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},p.prototype.readInt32BE=function(s,a){return a||V(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},p.prototype.readFloatLE=function(s,a){return a||V(s,4,this.length),N.read(this,s,!0,23,4)},p.prototype.readFloatBE=function(s,a){return a||V(s,4,this.length),N.read(this,s,!1,23,4)},p.prototype.readDoubleLE=function(s,a){return a||V(s,8,this.length),N.read(this,s,!0,52,8)},p.prototype.readDoubleBE=function(s,a){return a||V(s,8,this.length),N.read(this,s,!1,52,8)},p.prototype.writeUIntLE=function(s,a,l,v){s=+s,a|=0,l|=0,v||ie(this,s,a,l,Math.pow(2,8*l)-1,0);var A=1,te=0;for(this[a]=255&s;++te<l&&(A*=256);)this[a+te]=s/A&255;return a+l},p.prototype.writeUIntBE=function(s,a,l,v){s=+s,a|=0,l|=0,v||ie(this,s,a,l,Math.pow(2,8*l)-1,0);var A=l-1,te=1;for(this[a+A]=255&s;--A>=0&&(te*=256);)this[a+A]=s/te&255;return a+l},p.prototype.writeUInt8=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,1,255,0),p.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),this[a]=255&s,a+1},p.prototype.writeUInt16LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):fe(this,s,a,!0),a+2},p.prototype.writeUInt16BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):fe(this,s,a,!1),a+2},p.prototype.writeUInt32LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=255&s):ye(this,s,a,!0),a+4},p.prototype.writeUInt32BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):ye(this,s,a,!1),a+4},p.prototype.writeIntLE=function(s,a,l,v){if(s=+s,a|=0,!v){var S=Math.pow(2,8*l-1);ie(this,s,a,l,S-1,-S)}var A=0,te=1,se=0;for(this[a]=255&s;++A<l&&(te*=256);)s<0&&0===se&&0!==this[a+A-1]&&(se=1),this[a+A]=(s/te>>0)-se&255;return a+l},p.prototype.writeIntBE=function(s,a,l,v){if(s=+s,a|=0,!v){var S=Math.pow(2,8*l-1);ie(this,s,a,l,S-1,-S)}var A=l-1,te=1,se=0;for(this[a+A]=255&s;--A>=0&&(te*=256);)s<0&&0===se&&0!==this[a+A+1]&&(se=1),this[a+A]=(s/te>>0)-se&255;return a+l},p.prototype.writeInt8=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,1,127,-128),p.TYPED_ARRAY_SUPPORT||(s=Math.floor(s)),s<0&&(s=255+s+1),this[a]=255&s,a+1},p.prototype.writeInt16LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8):fe(this,s,a,!0),a+2},p.prototype.writeInt16BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>8,this[a+1]=255&s):fe(this,s,a,!1),a+2},p.prototype.writeInt32LE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[a]=255&s,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24):ye(this,s,a,!0),a+4},p.prototype.writeInt32BE=function(s,a,l){return s=+s,a|=0,l||ie(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),p.TYPED_ARRAY_SUPPORT?(this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=255&s):ye(this,s,a,!1),a+4},p.prototype.writeFloatLE=function(s,a,l){return we(this,s,a,!0,l)},p.prototype.writeFloatBE=function(s,a,l){return we(this,s,a,!1,l)},p.prototype.writeDoubleLE=function(s,a,l){return Ue(this,s,a,!0,l)},p.prototype.writeDoubleBE=function(s,a,l){return Ue(this,s,a,!1,l)},p.prototype.copy=function(s,a,l,v){if(l||(l=0),!v&&0!==v&&(v=this.length),a>=s.length&&(a=s.length),a||(a=0),v>0&&v<l&&(v=l),v===l||0===s.length||0===this.length)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("sourceStart out of bounds");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),s.length-a<v-l&&(v=s.length-a+l);var A,S=v-l;if(this===s&&l<a&&a<v)for(A=S-1;A>=0;--A)s[A+a]=this[A+l];else if(S<1e3||!p.TYPED_ARRAY_SUPPORT)for(A=0;A<S;++A)s[A+a]=this[A+l];else Uint8Array.prototype.set.call(s,this.subarray(l,l+S),a);return S},p.prototype.fill=function(s,a,l,v){if("string"==typeof s){if("string"==typeof a?(v=a,a=0,l=this.length):"string"==typeof l&&(v=l,l=this.length),1===s.length){var S=s.charCodeAt(0);S<256&&(s=S)}if(void 0!==v&&"string"!=typeof v)throw new TypeError("encoding must be a string");if("string"==typeof v&&!p.isEncoding(v))throw new TypeError("Unknown encoding: "+v)}else"number"==typeof s&&(s&=255);if(a<0||this.length<a||this.length<l)throw new RangeError("Out of range index");if(l<=a)return this;var A;if(a>>>=0,l=void 0===l?this.length:l>>>0,s||(s=0),"number"==typeof s)for(A=a;A<l;++A)this[A]=s;else{var te=p.isBuffer(s)?s:Ee(new p(s,v).toString()),se=te.length;for(A=0;A<l-a;++A)this[A+a]=te[A%se]}return this};var Te=/[^+\/0-9A-Za-z-_]/g;function De(f){return f<16?"0"+f.toString(16):f.toString(16)}function Ee(f,s){s=s||1/0;for(var a,l=f.length,v=null,S=[],A=0;A<l;++A){if((a=f.charCodeAt(A))>55295&&a<57344){if(!v){if(a>56319){(s-=3)>-1&&S.push(239,191,189);continue}if(A+1===l){(s-=3)>-1&&S.push(239,191,189);continue}v=a;continue}if(a<56320){(s-=3)>-1&&S.push(239,191,189),v=a;continue}a=65536+(v-55296<<10|a-56320)}else v&&(s-=3)>-1&&S.push(239,191,189);if(v=null,a<128){if((s-=1)<0)break;S.push(a)}else if(a<2048){if((s-=2)<0)break;S.push(a>>6|192,63&a|128)}else if(a<65536){if((s-=3)<0)break;S.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;S.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return S}function Qe(f){return ee.toByteArray(function Re(f){if((f=function Oe(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}(f).replace(Te,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(f))}function Ye(f,s,a,l){for(var v=0;v<l&&!(v+a>=s.length||v>=f.length);++v)s[v+a]=f[v];return v}},5343:(pe,F)=>{"use strict";F.byteLength=function U(k){var J=m(k),oe=J[1];return 3*(J[0]+oe)/4-oe},F.toByteArray=function T(k){var J,de,re=m(k),oe=re[0],Se=re[1],Ae=new ee(function p(k,J,re){return 3*(J+re)/4-re}(0,oe,Se)),Ce=0,Pe=Se>0?oe-4:oe;for(de=0;de<Pe;de+=4)J=D[k.charCodeAt(de)]<<18|D[k.charCodeAt(de+1)]<<12|D[k.charCodeAt(de+2)]<<6|D[k.charCodeAt(de+3)],Ae[Ce++]=J>>16&255,Ae[Ce++]=J>>8&255,Ae[Ce++]=255&J;return 2===Se&&(J=D[k.charCodeAt(de)]<<2|D[k.charCodeAt(de+1)]>>4,Ae[Ce++]=255&J),1===Se&&(J=D[k.charCodeAt(de)]<<10|D[k.charCodeAt(de+1)]<<4|D[k.charCodeAt(de+2)]>>2,Ae[Ce++]=J>>8&255,Ae[Ce++]=255&J),Ae},F.fromByteArray=function Y(k){for(var J,re=k.length,oe=re%3,Se=[],Ce=0,Pe=re-oe;Ce<Pe;Ce+=16383)Se.push(L(k,Ce,Ce+16383>Pe?Pe:Ce+16383));return 1===oe?Se.push(I[(J=k[re-1])>>2]+I[J<<4&63]+"=="):2===oe&&Se.push(I[(J=(k[re-2]<<8)+k[re-1])>>10]+I[J>>4&63]+I[J<<2&63]+"="),Se.join("")};for(var I=[],D=[],ee=typeof Uint8Array<"u"?Uint8Array:Array,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=0,ne=N.length;R<ne;++R)I[R]=N[R],D[N.charCodeAt(R)]=R;function m(k){var J=k.length;if(J%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=k.indexOf("=");return-1===re&&(re=J),[re,re===J?0:4-re%4]}function q(k){return I[k>>18&63]+I[k>>12&63]+I[k>>6&63]+I[63&k]}function L(k,J,re){for(var Se=[],Ae=J;Ae<re;Ae+=3)Se.push(q((k[Ae]<<16&16711680)+(k[Ae+1]<<8&65280)+(255&k[Ae+2])));return Se.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},3555:(pe,F)=>{"use strict";F.Q=function N(m,U){if("string"!=typeof m)throw new TypeError("argument str must be a string");for(var p={},T=U||{},q=m.split(";"),L=T.decode||I,Y=0;Y<q.length;Y++){var k=q[Y],J=k.indexOf("=");if(!(J<0)){var re=k.substring(0,J).trim();if(null==p[re]){var oe=k.substring(J+1,k.length).trim();'"'===oe[0]&&(oe=oe.slice(1,-1)),p[re]=ne(oe,L)}}}return p},F.q=function R(m,U,p){var T=p||{},q=T.encode||D;if("function"!=typeof q)throw new TypeError("option encode is invalid");if(!ee.test(m))throw new TypeError("argument name is invalid");var L=q(U);if(L&&!ee.test(L))throw new TypeError("argument val is invalid");var Y=m+"="+L;if(null!=T.maxAge){var k=T.maxAge-0;if(isNaN(k)||!isFinite(k))throw new TypeError("option maxAge is invalid");Y+="; Max-Age="+Math.floor(k)}if(T.domain){if(!ee.test(T.domain))throw new TypeError("option domain is invalid");Y+="; Domain="+T.domain}if(T.path){if(!ee.test(T.path))throw new TypeError("option path is invalid");Y+="; Path="+T.path}if(T.expires){if("function"!=typeof T.expires.toUTCString)throw new TypeError("option expires is invalid");Y+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(Y+="; HttpOnly"),T.secure&&(Y+="; Secure"),T.sameSite)switch("string"==typeof T.sameSite?T.sameSite.toLowerCase():T.sameSite){case!0:Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"strict":Y+="; SameSite=Strict";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return Y};var I=decodeURIComponent,D=encodeURIComponent,ee=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ne(m,U){try{return U(m)}catch{return m}}},8461:(pe,F)=>{F.read=function(I,D,ee,N,R){var ne,m,U=8*R-N-1,p=(1<<U)-1,T=p>>1,q=-7,L=ee?R-1:0,Y=ee?-1:1,k=I[D+L];for(L+=Y,ne=k&(1<<-q)-1,k>>=-q,q+=U;q>0;ne=256*ne+I[D+L],L+=Y,q-=8);for(m=ne&(1<<-q)-1,ne>>=-q,q+=N;q>0;m=256*m+I[D+L],L+=Y,q-=8);if(0===ne)ne=1-T;else{if(ne===p)return m?NaN:1/0*(k?-1:1);m+=Math.pow(2,N),ne-=T}return(k?-1:1)*m*Math.pow(2,ne-N)},F.write=function(I,D,ee,N,R,ne){var m,U,p,T=8*ne-R-1,q=(1<<T)-1,L=q>>1,Y=23===R?Math.pow(2,-24)-Math.pow(2,-77):0,k=N?0:ne-1,J=N?1:-1,re=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(U=isNaN(D)?1:0,m=q):(m=Math.floor(Math.log(D)/Math.LN2),D*(p=Math.pow(2,-m))<1&&(m--,p*=2),(D+=m+L>=1?Y/p:Y*Math.pow(2,1-L))*p>=2&&(m++,p/=2),m+L>=q?(U=0,m=q):m+L>=1?(U=(D*p-1)*Math.pow(2,R),m+=L):(U=D*Math.pow(2,L-1)*Math.pow(2,R),m=0));R>=8;I[ee+k]=255&U,k+=J,U/=256,R-=8);for(m=m<<R|U,T+=R;T>0;I[ee+k]=255&m,k+=J,m/=256,T-=8);I[ee+k-J]|=128*re}},6425:pe=>{var F={}.toString;pe.exports=Array.isArray||function(I){return"[object Array]"==F.call(I)}},3024:(pe,F,I)=>{pe.exports=self.fetch||(self.fetch=I(5557).default||I(5557))},7355:(pe,F,I)=>{var D,ee,N;void 0!==(ee="function"==typeof(D=N=function(){function N(){for(var m=0,U={};m<arguments.length;m++){var p=arguments[m];for(var T in p)U[T]=p[T]}return U}function R(m){return m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function ne(m){function U(){}function p(q,L,Y){if(!(typeof document>"u")){"number"==typeof(Y=N({path:"/"},U.defaults,Y)).expires&&(Y.expires=new Date(1*new Date+864e5*Y.expires)),Y.expires=Y.expires?Y.expires.toUTCString():"";try{var k=JSON.stringify(L);/^[\{\[]/.test(k)&&(L=k)}catch{}L=m.write?m.write(L,q):encodeURIComponent(String(L)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),q=encodeURIComponent(String(q)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var J="";for(var re in Y)Y[re]&&(J+="; "+re,!0!==Y[re]&&(J+="="+Y[re].split(";")[0]));return document.cookie=q+"="+L+J}}function T(q,L){if(!(typeof document>"u")){for(var Y={},k=document.cookie?document.cookie.split("; "):[],J=0;J<k.length;J++){var re=k[J].split("="),oe=re.slice(1).join("=");!L&&'"'===oe.charAt(0)&&(oe=oe.slice(1,-1));try{var Se=R(re[0]);if(oe=(m.read||m)(oe,Se)||R(oe),L)try{oe=JSON.parse(oe)}catch{}if(Y[Se]=oe,q===Se)break}catch{}}return q?Y[q]:Y}}return U.set=p,U.get=function(q){return T(q,!1)},U.getJSON=function(q){return T(q,!0)},U.remove=function(q,L){p(q,"",N(L,{expires:-1}))},U.defaults={},U.withConverter=ne,U}(function(){})})?D.call(F,I,F,pe):D)&&(pe.exports=ee),pe.exports=N()},516:pe=>{"use strict";function F(I,D){return Object.prototype.hasOwnProperty.call(I,D)}pe.exports=function(I,D,ee,N){ee=ee||"=";var R={};if("string"!=typeof I||0===I.length)return R;var ne=/\+/g;I=I.split(D=D||"&");var m=1e3;N&&"number"==typeof N.maxKeys&&(m=N.maxKeys);var U=I.length;m>0&&U>m&&(U=m);for(var p=0;p<U;++p){var L,Y,k,J,T=I[p].replace(ne,"%20"),q=T.indexOf(ee);q>=0?(L=T.substr(0,q),Y=T.substr(q+1)):(L=T,Y=""),k=decodeURIComponent(L),J=decodeURIComponent(Y),F(R,k)?Array.isArray(R[k])?R[k].push(J):R[k]=[R[k],J]:R[k]=J}return R}},5776:pe=>{"use strict";var F=function(I){switch(typeof I){case"string":return I;case"boolean":return I?"true":"false";case"number":return isFinite(I)?I:"";default:return""}};pe.exports=function(I,D,ee,N){return D=D||"&",ee=ee||"=",null===I&&(I=void 0),"object"==typeof I?Object.keys(I).map(function(R){var ne=encodeURIComponent(F(R))+ee;return Array.isArray(I[R])?I[R].map(function(m){return ne+encodeURIComponent(F(m))}).join(D):ne+encodeURIComponent(F(I[R]))}).join(D):N?encodeURIComponent(F(N))+ee+encodeURIComponent(F(I)):""}},7137:(pe,F,I)=>{"use strict";F.decode=F.parse=I(516),F.encode=F.stringify=I(5776)},5557:(pe,F,I)=>{"use strict";function D(ee,N){return N=N||{},new Promise(function(R,ne){var m=new XMLHttpRequest,U=[],p=[],T={},q=function(){return{ok:2==(m.status/100|0),statusText:m.statusText,status:m.status,url:m.responseURL,text:function(){return Promise.resolve(m.responseText)},json:function(){return Promise.resolve(m.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([m.response]))},clone:q,headers:{keys:function(){return U},entries:function(){return p},get:function(Y){return T[Y.toLowerCase()]},has:function(Y){return Y.toLowerCase()in T}}}};for(var L in m.open(N.method||"get",ee,!0),m.onload=function(){m.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(Y,k,J){U.push(k=k.toLowerCase()),p.push([k,J]),T[k]=T[k]?T[k]+","+J:J}),R(q())},m.onerror=ne,m.withCredentials="include"==N.credentials,N.headers)m.setRequestHeader(L,N.headers[L]);m.send(N.body||null)})}I.r(F),I.d(F,{default:()=>D})},3541:(pe,F,I)=>{"use strict";I.r(F),I.d(F,{__assign:()=>N,__asyncDelegator:()=>Ae,__asyncGenerator:()=>Se,__asyncValues:()=>Ce,__await:()=>oe,__awaiter:()=>p,__classPrivateFieldGet:()=>Fe,__classPrivateFieldSet:()=>E,__createBinding:()=>q,__decorate:()=>ne,__exportStar:()=>L,__extends:()=>ee,__generator:()=>T,__importDefault:()=>Q,__importStar:()=>de,__makeTemplateObject:()=>Pe,__metadata:()=>U,__param:()=>m,__read:()=>k,__rest:()=>R,__spread:()=>J,__spreadArrays:()=>re,__values:()=>Y});var D=function(_,y){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,H){O.__proto__=H}||function(O,H){for(var z in H)H.hasOwnProperty(z)&&(O[z]=H[z])})(_,y)};function ee(_,y){function O(){this.constructor=_}D(_,y),_.prototype=null===y?Object.create(y):(O.prototype=y.prototype,new O)}var N=function(){return N=Object.assign||function(y){for(var O,H=1,z=arguments.length;H<z;H++)for(var P in O=arguments[H])Object.prototype.hasOwnProperty.call(O,P)&&(y[P]=O[P]);return y},N.apply(this,arguments)};function R(_,y){var O={};for(var H in _)Object.prototype.hasOwnProperty.call(_,H)&&y.indexOf(H)<0&&(O[H]=_[H]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var z=0;for(H=Object.getOwnPropertySymbols(_);z<H.length;z++)y.indexOf(H[z])<0&&Object.prototype.propertyIsEnumerable.call(_,H[z])&&(O[H[z]]=_[H[z]])}return O}function ne(_,y,O,H){var j,z=arguments.length,P=z<3?y:null===H?H=Object.getOwnPropertyDescriptor(y,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(_,y,O,H);else for(var ve=_.length-1;ve>=0;ve--)(j=_[ve])&&(P=(z<3?j(P):z>3?j(y,O,P):j(y,O))||P);return z>3&&P&&Object.defineProperty(y,O,P),P}function m(_,y){return function(O,H){y(O,H,_)}}function U(_,y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(_,y)}function p(_,y,O,H){return new(O||(O=Promise))(function(P,j){function ve(xe){try{ue(H.next(xe))}catch(Z){j(Z)}}function me(xe){try{ue(H.throw(xe))}catch(Z){j(Z)}}function ue(xe){xe.done?P(xe.value):function z(P){return P instanceof O?P:new O(function(j){j(P)})}(xe.value).then(ve,me)}ue((H=H.apply(_,y||[])).next())})}function T(_,y){var H,z,P,j,O={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return j={next:ve(0),throw:ve(1),return:ve(2)},"function"==typeof Symbol&&(j[Symbol.iterator]=function(){return this}),j;function ve(ue){return function(xe){return function me(ue){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,z&&(P=2&ue[0]?z.return:ue[0]?z.throw||((P=z.return)&&P.call(z),0):z.next)&&!(P=P.call(z,ue[1])).done)return P;switch(z=0,P&&(ue=[2&ue[0],P.value]),ue[0]){case 0:case 1:P=ue;break;case 4:return O.label++,{value:ue[1],done:!1};case 5:O.label++,z=ue[1],ue=[0];continue;case 7:ue=O.ops.pop(),O.trys.pop();continue;default:if(!(P=(P=O.trys).length>0&&P[P.length-1])&&(6===ue[0]||2===ue[0])){O=0;continue}if(3===ue[0]&&(!P||ue[1]>P[0]&&ue[1]<P[3])){O.label=ue[1];break}if(6===ue[0]&&O.label<P[1]){O.label=P[1],P=ue;break}if(P&&O.label<P[2]){O.label=P[2],O.ops.push(ue);break}P[2]&&O.ops.pop(),O.trys.pop();continue}ue=y.call(_,O)}catch(xe){ue=[6,xe],z=0}finally{H=P=0}if(5&ue[0])throw ue[1];return{value:ue[0]?ue[1]:void 0,done:!0}}([ue,xe])}}}function q(_,y,O,H){void 0===H&&(H=O),_[H]=y[O]}function L(_,y){for(var O in _)"default"!==O&&!y.hasOwnProperty(O)&&(y[O]=_[O])}function Y(_){var y="function"==typeof Symbol&&Symbol.iterator,O=y&&_[y],H=0;if(O)return O.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&H>=_.length&&(_=void 0),{value:_&&_[H++],done:!_}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(_,y){var O="function"==typeof Symbol&&_[Symbol.iterator];if(!O)return _;var z,j,H=O.call(_),P=[];try{for(;(void 0===y||y-- >0)&&!(z=H.next()).done;)P.push(z.value)}catch(ve){j={error:ve}}finally{try{z&&!z.done&&(O=H.return)&&O.call(H)}finally{if(j)throw j.error}}return P}function J(){for(var _=[],y=0;y<arguments.length;y++)_=_.concat(k(arguments[y]));return _}function re(){for(var _=0,y=0,O=arguments.length;y<O;y++)_+=arguments[y].length;var H=Array(_),z=0;for(y=0;y<O;y++)for(var P=arguments[y],j=0,ve=P.length;j<ve;j++,z++)H[z]=P[j];return H}function oe(_){return this instanceof oe?(this.v=_,this):new oe(_)}function Se(_,y,O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,H=O.apply(_,y||[]),P=[];return z={},j("next"),j("throw"),j("return"),z[Symbol.asyncIterator]=function(){return this},z;function j(K){H[K]&&(z[K]=function(V){return new Promise(function(ie,fe){P.push([K,V,ie,fe])>1||ve(K,V)})})}function ve(K,V){try{!function me(K){K.value instanceof oe?Promise.resolve(K.value.v).then(ue,xe):Z(P[0][2],K)}(H[K](V))}catch(ie){Z(P[0][3],ie)}}function ue(K){ve("next",K)}function xe(K){ve("throw",K)}function Z(K,V){K(V),P.shift(),P.length&&ve(P[0][0],P[0][1])}}function Ae(_){var y,O;return y={},H("next"),H("throw",function(z){throw z}),H("return"),y[Symbol.iterator]=function(){return this},y;function H(z,P){y[z]=_[z]?function(j){return(O=!O)?{value:oe(_[z](j)),done:"return"===z}:P?P(j):j}:P}}function Ce(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,y=_[Symbol.asyncIterator];return y?y.call(_):(_=Y(_),O={},H("next"),H("throw"),H("return"),O[Symbol.asyncIterator]=function(){return this},O);function H(P){O[P]=_[P]&&function(j){return new Promise(function(ve,me){!function z(P,j,ve,me){Promise.resolve(me).then(function(ue){P({value:ue,done:ve})},j)}(ve,me,(j=_[P](j)).done,j.value)})}}}function Pe(_,y){return Object.defineProperty?Object.defineProperty(_,"raw",{value:y}):_.raw=y,_}function de(_){if(_&&_.__esModule)return _;var y={};if(null!=_)for(var O in _)Object.hasOwnProperty.call(_,O)&&(y[O]=_[O]);return y.default=_,y}function Q(_){return _&&_.__esModule?_:{default:_}}function Fe(_,y){if(!y.has(_))throw new TypeError("attempted to get private field on non-instance");return y.get(_)}function E(_,y,O){if(!y.has(_))throw new TypeError("attempted to set private field on non-instance");return y.set(_,O),O}},6249:()=>{}}]);